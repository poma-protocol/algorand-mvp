import{a as Sr,A as Ar,d as xr,e as kr,f as Or,g as Rr,h as Ir,i as Tr,j as Er,k as Cr,l as Br,m as Pr,n as Nr,o as Fr,p as qr,q as Lr,r as Dr,s as zr,t as jr,u as Wr,v as Ur,D as Hr,E as Gr,w as $r,I as Kr,x as Vr,y as Qr,K as Jr,L as Zr,z as Xr,B as Yr,M as tn,C as en,O as rn,S as nn,F as on,G as sn,T as an,H as un,J as hn,N as fn,P as cn,Q as ln,R as dn,U as pn,V as gn,W as vn,X as mn,Y as yn,Z as wn,_ as _n,$ as Mn,a0 as bn,a1 as Sn,a2 as An,a3 as xn,a4 as kn,a5 as On,a6 as Rn,a7 as In,a8 as Tn,a9 as En,aa as Cn,ab as Bn,ac as Pn,ad as Nn,ae as Fn,af as qn,ag as Ln,ah as Dn,ai as zn,aj as jn,ak as Wn,al as Un,am as Hn,an as Gn,ao as $n,ap as Kn,aq as Vn,ar as Qn,as as Jn,at as Zn,au as Xn,av as Yn,aw as ti,ax as ei,ay as ri,az as ni,aA as ii,aB as oi,aC as si,aD as ai,aE as ui,aF as hi,aG as fi,aH as ci,aI as li,aJ as di,aK as pi,aL as gi,aM as vi,aN as mi,aO as yi,aP as wi,aQ as _i,aR as Mi,aS as bi,aT as Si,aU as Ai,aV as xi,aW as ki,aX as Oi,aY as Ri,aZ as Ii,a_ as Ti,a$ as Ei,b0 as Ci,b1 as Bi,b2 as Pi,b3 as Ni,b4 as Fi,b5 as qi,b6 as Li,b7 as Di,b8 as zi,c as Qe,b9 as Je,ba as Ze}from"./index-D6yhzc5p.js";import{p as ji,s as Wi,a as Ui,d as Hi,c as ue}from"./index-oVNGmR-2.js";const Gi=Object.freeze(Object.defineProperty({__proto__:null,ABIAddressType:Ar,ABIArrayDynamicType:xr,ABIArrayStaticType:kr,ABIBoolType:Or,ABIByteType:Rr,ABIContract:Ir,ABIInterface:Tr,ABIMethod:Er,get ABIReferenceType(){return Cr},ABIStringType:Br,get ABITransactionType(){return Pr},ABITupleType:Nr,ABIType:Fr,ABIUfixedType:qr,ABIUintType:Lr,ADDR_BYTE_SIZE:Dr,ALGORAND_MIN_TX_FEE:zr,Algodv2:jr,AtomicTransactionComposer:Wr,get AtomicTransactionComposerStatus(){return Ur},DryrunResult:Hr,ERROR_INVALID_MICROALGOS:Gr,ERROR_MULTISIG_BAD_SENDER:$r,INVALID_MICROALGOS_ERROR_MSG:Kr,Indexer:Vr,IntDecoding:Qr,Kmd:Jr,LENGTH_ENCODE_BYTE_SIZE:Zr,LogicSig:Xr,LogicSigAccount:Yr,MAX_LEN:tn,MULTISIG_BAD_SENDER_ERROR_MSG:en,get OnApplicationComplete(){return rn},SINGLE_BOOL_SIZE:nn,SINGLE_BYTE_SIZE:on,SourceMap:sn,Transaction:an,get TransactionType(){return un},abiCheckTransactionType:hn,abiTypeIsReference:fn,abiTypeIsTransaction:cn,algosToMicroalgos:ln,appendSignMultisigTransaction:dn,appendSignRawMultisigSignature:pn,assignGroupID:gn,bigIntToBytes:vn,bytesToBigInt:mn,computeGroupID:yn,createDryrun:wn,createMultisigTransaction:_n,decodeAddress:Mn,decodeObj:bn,decodeSignedTransaction:Sn,decodeUint64:An,decodeUnsignedTransaction:xn,default:Sr,encodeAddress:kn,encodeObj:On,encodeUint64:Rn,encodeUnsignedSimulateTransaction:In,encodeUnsignedTransaction:Tn,generateAccount:En,getApplicationAddress:Cn,getMethodByName:Bn,indexerModels:Pn,instantiateTxnIfNeeded:Nn,isTransactionWithSigner:Fn,isValidAddress:qn,logicSigFromByte:Ln,makeApplicationCallTxnFromObject:Dn,makeApplicationClearStateTxn:zn,makeApplicationClearStateTxnFromObject:jn,makeApplicationCloseOutTxn:Wn,makeApplicationCloseOutTxnFromObject:Un,makeApplicationCreateTxn:Hn,makeApplicationCreateTxnFromObject:Gn,makeApplicationDeleteTxn:$n,makeApplicationDeleteTxnFromObject:Kn,makeApplicationNoOpTxn:Vn,makeApplicationNoOpTxnFromObject:Qn,makeApplicationOptInTxn:Jn,makeApplicationOptInTxnFromObject:Zn,makeApplicationUpdateTxn:Xn,makeApplicationUpdateTxnFromObject:Yn,makeAssetConfigTxnWithSuggestedParams:ti,makeAssetConfigTxnWithSuggestedParamsFromObject:ei,makeAssetCreateTxnWithSuggestedParams:ri,makeAssetCreateTxnWithSuggestedParamsFromObject:ni,makeAssetDestroyTxnWithSuggestedParams:ii,makeAssetDestroyTxnWithSuggestedParamsFromObject:oi,makeAssetFreezeTxnWithSuggestedParams:si,makeAssetFreezeTxnWithSuggestedParamsFromObject:ai,makeAssetTransferTxnWithSuggestedParams:ui,makeAssetTransferTxnWithSuggestedParamsFromObject:hi,makeBasicAccountTransactionSigner:fi,makeEmptyTransactionSigner:ci,makeKeyRegistrationTxnWithSuggestedParams:li,makeKeyRegistrationTxnWithSuggestedParamsFromObject:di,makeLogicSigAccountTransactionSigner:pi,makeMultiSigAccountTransactionSigner:gi,makePaymentTxnWithSuggestedParams:vi,makePaymentTxnWithSuggestedParamsFromObject:mi,masterDerivationKeyToMnemonic:yi,mergeMultisigTransactions:wi,microalgosToAlgos:_i,mnemonicFromSeed:Mi,mnemonicToMasterDerivationKey:bi,mnemonicToSecretKey:Si,modelsv2:Ai,multisigAddress:xi,secretKeyToMnemonic:ki,seedFromMnemonic:Oi,signBid:Ri,signBytes:Ii,signLogicSigTransaction:Ti,signLogicSigTransactionObject:Ei,signMultisigTransaction:Ci,signTransaction:Bi,tealSign:Pi,tealSignFromProgram:Ni,verifyBytes:Fi,verifyMultisig:qi,verifyTealSign:Li,waitForConfirmation:Di},Symbol.toStringTag,{value:"Module"}));var Te={},At={};Object.defineProperty(At,"__esModule",{value:!0});var Xe=At.getLocalStorage=At.getLocalStorageOrThrow=At.getCrypto=At.getCryptoOrThrow=tr=At.getLocation=At.getLocationOrThrow=Ye=At.getNavigator=At.getNavigatorOrThrow=At.getDocument=At.getDocumentOrThrow=At.getFromWindowOrThrow=At.getFromWindow=void 0;function ee(c){let n;return typeof window<"u"&&typeof window[c]<"u"&&(n=window[c]),n}At.getFromWindow=ee;function oe(c){const n=ee(c);if(!n)throw new Error(`${c} is not defined in Window`);return n}At.getFromWindowOrThrow=oe;function $i(){return oe("document")}At.getDocumentOrThrow=$i;function Ki(){return ee("document")}At.getDocument=Ki;function Vi(){return oe("navigator")}At.getNavigatorOrThrow=Vi;function Qi(){return ee("navigator")}var Ye=At.getNavigator=Qi;function Ji(){return oe("location")}At.getLocationOrThrow=Ji;function Zi(){return ee("location")}var tr=At.getLocation=Zi;function Xi(){return oe("crypto")}At.getCryptoOrThrow=Xi;function Yi(){return ee("crypto")}At.getCrypto=Yi;function to(){return oe("localStorage")}At.getLocalStorageOrThrow=to;function eo(){return ee("localStorage")}Xe=At.getLocalStorage=eo;Object.defineProperty(Te,"__esModule",{value:!0});var er=Te.getWindowMetadata=void 0;const De=At;function ro(){let c,n;try{c=De.getDocumentOrThrow(),n=De.getLocationOrThrow()}catch{return null}function y(){const R=c.getElementsByTagName("link"),et=[];for(let H=0;H<R.length;H++){const D=R[H],G=D.getAttribute("rel");if(G&&G.toLowerCase().indexOf("icon")>-1){const P=D.getAttribute("href");if(P)if(P.toLowerCase().indexOf("https:")===-1&&P.toLowerCase().indexOf("http:")===-1&&P.indexOf("//")!==0){let F=n.protocol+"//"+n.host;if(P.indexOf("/")===0)F+=P;else{const K=n.pathname.split("/");K.pop();const U=K.join("/");F+=U+"/"+P}et.push(F)}else if(P.indexOf("//")===0){const F=n.protocol+P;et.push(F)}else et.push(P)}}return et}function S(...R){const et=c.getElementsByTagName("meta");for(let H=0;H<et.length;H++){const D=et[H],G=["itemprop","property","name"].map(P=>D.getAttribute(P)).filter(P=>P?R.includes(P):!1);if(G.length&&G){const P=D.getAttribute("content");if(P)return P}}return""}function B(){let R=S("name","og:site_name","og:title","twitter:title");return R||(R=c.title),R}function g(){return S("description","og:description","twitter:description","keywords")}const C=B(),N=g(),W=n.origin,w=y();return{description:N,url:W,icons:w,name:C}}er=Te.getWindowMetadata=ro;var no=function(){for(var c=0,n=0,y=arguments.length;n<y;n++)c+=arguments[n].length;for(var S=Array(c),B=0,n=0;n<y;n++)for(var g=arguments[n],C=0,N=g.length;C<N;C++,B++)S[B]=g[C];return S},io=function(){function c(n,y,S){this.name=n,this.version=y,this.os=S,this.type="browser"}return c}(),oo=function(){function c(n){this.version=n,this.type="node",this.name="node",this.os=process.platform}return c}(),so=function(){function c(n,y,S,B){this.name=n,this.version=y,this.os=S,this.bot=B,this.type="bot-device"}return c}(),ao=function(){function c(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return c}(),uo=function(){function c(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return c}(),ho=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,fo=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,ze=3,co=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",ho]],je=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function lo(c){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new uo:typeof navigator<"u"?go(navigator.userAgent):mo()}function po(c){return c!==""&&co.reduce(function(n,y){var S=y[0],B=y[1];if(n)return n;var g=B.exec(c);return!!g&&[S,g]},!1)}function go(c){var n=po(c);if(!n)return null;var y=n[0],S=n[1];if(y==="searchbot")return new ao;var B=S[1]&&S[1].split(/[._]/).slice(0,3);B?B.length<ze&&(B=no(B,yo(ze-B.length))):B=[];var g=B.join("."),C=vo(c),N=fo.exec(c);return N&&N[1]?new so(y,g,C,N[1]):new io(y,g,C)}function vo(c){for(var n=0,y=je.length;n<y;n++){var S=je[n],B=S[0],g=S[1],C=g.exec(c);if(C)return B}return null}function mo(){var c=typeof process<"u"&&process.version;return c?new oo(process.version.slice(1)):null}function yo(c){for(var n=[],y=0;y<c;y++)n.push("0");return n}function Ee(c){return lo()}function Ce(){const c=Ee();return c&&c.os?c.os:void 0}function wo(){const c=Ce();return c?c.toLowerCase().includes("android"):!1}function _o(){const c=Ce();return c?c.toLowerCase().includes("ios")||c.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function Mo(){return Ce()?wo()||_o():!1}function bo(){const c=Ee();return c&&c.name?c.name.toLowerCase()==="node":!1}function So(){return!bo()&&!!Ao()}const Ao=Ye,xo=tr,Be=Xe;function We(){return er()}function ko(c){if(typeof c!="string")throw new Error(`Cannot safe json parse value of type ${typeof c}`);try{return JSON.parse(c)}catch{return c}}function Oo(c){return typeof c=="string"?c:JSON.stringify(c)}const Ro=ko,Io=Oo;function To(c,n){const y=Io(n),S=Be();S&&S.setItem(c,y)}function rr(c){let n=null,y=null;const S=Be();return S&&(y=S.getItem(c)),n=y&&Ro(y),n}function nr(c){const n=Be();n&&n.removeItem(c)}const Ue="WALLETCONNECT_DEEPLINK_CHOICE",Eo=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],ir=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"];var Pe={exports:{}};Pe.exports;(function(c){(function(n,y){function S(O,t){if(!O)throw new Error(t||"Assertion failed")}function B(O,t){O.super_=t;var i=function(){};i.prototype=t.prototype,O.prototype=new i,O.prototype.constructor=O}function g(O,t,i){if(g.isBN(O))return O;this.negative=0,this.words=null,this.length=0,this.red=null,O!==null&&((t==="le"||t==="be")&&(i=t,t=10),this._init(O||0,t||10,i||"be"))}typeof n=="object"?n.exports=g:y.BN=g,g.BN=g,g.wordSize=26;var C;try{C=zi.Buffer}catch{}g.isBN=function(t){return t instanceof g?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===g.wordSize&&Array.isArray(t.words)},g.max=function(t,i){return t.cmp(i)>0?t:i},g.min=function(t,i){return t.cmp(i)<0?t:i},g.prototype._init=function(t,i,o){if(typeof t=="number")return this._initNumber(t,i,o);if(typeof t=="object")return this._initArray(t,i,o);i==="hex"&&(i=16),S(i===(i|0)&&i>=2&&i<=36),t=t.toString().replace(/\s+/g,"");var s=0;t[0]==="-"&&s++,i===16?this._parseHex(t,s):this._parseBase(t,i,s),t[0]==="-"&&(this.negative=1),this.strip(),o==="le"&&this._initArray(this.toArray(),i,o)},g.prototype._initNumber=function(t,i,o){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(S(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),o==="le"&&this._initArray(this.toArray(),i,o)},g.prototype._initArray=function(t,i,o){if(S(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var u,d,v=0;if(o==="be")for(s=t.length-1,u=0;s>=0;s-=3)d=t[s]|t[s-1]<<8|t[s-2]<<16,this.words[u]|=d<<v&67108863,this.words[u+1]=d>>>26-v&67108863,v+=24,v>=26&&(v-=26,u++);else if(o==="le")for(s=0,u=0;s<t.length;s+=3)d=t[s]|t[s+1]<<8|t[s+2]<<16,this.words[u]|=d<<v&67108863,this.words[u+1]=d>>>26-v&67108863,v+=24,v>=26&&(v-=26,u++);return this.strip()};function N(O,t,i){for(var o=0,s=Math.min(O.length,i),u=t;u<s;u++){var d=O.charCodeAt(u)-48;o<<=4,d>=49&&d<=54?o|=d-49+10:d>=17&&d<=22?o|=d-17+10:o|=d&15}return o}g.prototype._parseHex=function(t,i){this.length=Math.ceil((t.length-i)/6),this.words=new Array(this.length);for(var o=0;o<this.length;o++)this.words[o]=0;var s,u,d=0;for(o=t.length-6,s=0;o>=i;o-=6)u=N(t,o,o+6),this.words[s]|=u<<d&67108863,this.words[s+1]|=u>>>26-d&4194303,d+=24,d>=26&&(d-=26,s++);o+6!==i&&(u=N(t,i,o+6),this.words[s]|=u<<d&67108863,this.words[s+1]|=u>>>26-d&4194303),this.strip()};function W(O,t,i,o){for(var s=0,u=Math.min(O.length,i),d=t;d<u;d++){var v=O.charCodeAt(d)-48;s*=o,v>=49?s+=v-49+10:v>=17?s+=v-17+10:s+=v}return s}g.prototype._parseBase=function(t,i,o){this.words=[0],this.length=1;for(var s=0,u=1;u<=67108863;u*=i)s++;s--,u=u/i|0;for(var d=t.length-o,v=d%s,h=Math.min(d,d-v)+o,r=0,l=o;l<h;l+=s)r=W(t,l,l+s,i),this.imuln(u),this.words[0]+r<67108864?this.words[0]+=r:this._iaddn(r);if(v!==0){var L=1;for(r=W(t,l,t.length,i),l=0;l<v;l++)L*=i;this.imuln(L),this.words[0]+r<67108864?this.words[0]+=r:this._iaddn(r)}},g.prototype.copy=function(t){t.words=new Array(this.length);for(var i=0;i<this.length;i++)t.words[i]=this.words[i];t.length=this.length,t.negative=this.negative,t.red=this.red},g.prototype.clone=function(){var t=new g(null);return this.copy(t),t},g.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},g.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},g.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},g.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],R=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];g.prototype.toString=function(t,i){t=t||10,i=i|0||1;var o;if(t===16||t==="hex"){o="";for(var s=0,u=0,d=0;d<this.length;d++){var v=this.words[d],h=((v<<s|u)&16777215).toString(16);u=v>>>24-s&16777215,u!==0||d!==this.length-1?o=w[6-h.length]+h+o:o=h+o,s+=2,s>=26&&(s-=26,d--)}for(u!==0&&(o=u.toString(16)+o);o.length%i!==0;)o="0"+o;return this.negative!==0&&(o="-"+o),o}if(t===(t|0)&&t>=2&&t<=36){var r=A[t],l=R[t];o="";var L=this.clone();for(L.negative=0;!L.isZero();){var j=L.modn(l).toString(t);L=L.idivn(l),L.isZero()?o=j+o:o=w[r-j.length]+j+o}for(this.isZero()&&(o="0"+o);o.length%i!==0;)o="0"+o;return this.negative!==0&&(o="-"+o),o}S(!1,"Base should be between 2 and 36")},g.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&S(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},g.prototype.toJSON=function(){return this.toString(16)},g.prototype.toBuffer=function(t,i){return S(typeof C<"u"),this.toArrayLike(C,t,i)},g.prototype.toArray=function(t,i){return this.toArrayLike(Array,t,i)},g.prototype.toArrayLike=function(t,i,o){var s=this.byteLength(),u=o||Math.max(1,s);S(s<=u,"byte array longer than desired length"),S(u>0,"Requested array length <= 0"),this.strip();var d=i==="le",v=new t(u),h,r,l=this.clone();if(d){for(r=0;!l.isZero();r++)h=l.andln(255),l.iushrn(8),v[r]=h;for(;r<u;r++)v[r]=0}else{for(r=0;r<u-s;r++)v[r]=0;for(r=0;!l.isZero();r++)h=l.andln(255),l.iushrn(8),v[u-r-1]=h}return v},Math.clz32?g.prototype._countBits=function(t){return 32-Math.clz32(t)}:g.prototype._countBits=function(t){var i=t,o=0;return i>=4096&&(o+=13,i>>>=13),i>=64&&(o+=7,i>>>=7),i>=8&&(o+=4,i>>>=4),i>=2&&(o+=2,i>>>=2),o+i},g.prototype._zeroBits=function(t){if(t===0)return 26;var i=t,o=0;return i&8191||(o+=13,i>>>=13),i&127||(o+=7,i>>>=7),i&15||(o+=4,i>>>=4),i&3||(o+=2,i>>>=2),i&1||o++,o},g.prototype.bitLength=function(){var t=this.words[this.length-1],i=this._countBits(t);return(this.length-1)*26+i};function et(O){for(var t=new Array(O.bitLength()),i=0;i<t.length;i++){var o=i/26|0,s=i%26;t[i]=(O.words[o]&1<<s)>>>s}return t}g.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,i=0;i<this.length;i++){var o=this._zeroBits(this.words[i]);if(t+=o,o!==26)break}return t},g.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},g.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},g.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},g.prototype.isNeg=function(){return this.negative!==0},g.prototype.neg=function(){return this.clone().ineg()},g.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},g.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]|t.words[i];return this.strip()},g.prototype.ior=function(t){return S((this.negative|t.negative)===0),this.iuor(t)},g.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},g.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},g.prototype.iuand=function(t){var i;this.length>t.length?i=t:i=this;for(var o=0;o<i.length;o++)this.words[o]=this.words[o]&t.words[o];return this.length=i.length,this.strip()},g.prototype.iand=function(t){return S((this.negative|t.negative)===0),this.iuand(t)},g.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},g.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},g.prototype.iuxor=function(t){var i,o;this.length>t.length?(i=this,o=t):(i=t,o=this);for(var s=0;s<o.length;s++)this.words[s]=i.words[s]^o.words[s];if(this!==i)for(;s<i.length;s++)this.words[s]=i.words[s];return this.length=i.length,this.strip()},g.prototype.ixor=function(t){return S((this.negative|t.negative)===0),this.iuxor(t)},g.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},g.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},g.prototype.inotn=function(t){S(typeof t=="number"&&t>=0);var i=Math.ceil(t/26)|0,o=t%26;this._expand(i),o>0&&i--;for(var s=0;s<i;s++)this.words[s]=~this.words[s]&67108863;return o>0&&(this.words[s]=~this.words[s]&67108863>>26-o),this.strip()},g.prototype.notn=function(t){return this.clone().inotn(t)},g.prototype.setn=function(t,i){S(typeof t=="number"&&t>=0);var o=t/26|0,s=t%26;return this._expand(o+1),i?this.words[o]=this.words[o]|1<<s:this.words[o]=this.words[o]&~(1<<s),this.strip()},g.prototype.iadd=function(t){var i;if(this.negative!==0&&t.negative===0)return this.negative=0,i=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,i=this.isub(t),t.negative=1,i._normSign();var o,s;this.length>t.length?(o=this,s=t):(o=t,s=this);for(var u=0,d=0;d<s.length;d++)i=(o.words[d]|0)+(s.words[d]|0)+u,this.words[d]=i&67108863,u=i>>>26;for(;u!==0&&d<o.length;d++)i=(o.words[d]|0)+u,this.words[d]=i&67108863,u=i>>>26;if(this.length=o.length,u!==0)this.words[this.length]=u,this.length++;else if(o!==this)for(;d<o.length;d++)this.words[d]=o.words[d];return this},g.prototype.add=function(t){var i;return t.negative!==0&&this.negative===0?(t.negative=0,i=this.sub(t),t.negative^=1,i):t.negative===0&&this.negative!==0?(this.negative=0,i=t.sub(this),this.negative=1,i):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},g.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var i=this.iadd(t);return t.negative=1,i._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var o=this.cmp(t);if(o===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,u;o>0?(s=this,u=t):(s=t,u=this);for(var d=0,v=0;v<u.length;v++)i=(s.words[v]|0)-(u.words[v]|0)+d,d=i>>26,this.words[v]=i&67108863;for(;d!==0&&v<s.length;v++)i=(s.words[v]|0)+d,d=i>>26,this.words[v]=i&67108863;if(d===0&&v<s.length&&s!==this)for(;v<s.length;v++)this.words[v]=s.words[v];return this.length=Math.max(this.length,v),s!==this&&(this.negative=1),this.strip()},g.prototype.sub=function(t){return this.clone().isub(t)};function H(O,t,i){i.negative=t.negative^O.negative;var o=O.length+t.length|0;i.length=o,o=o-1|0;var s=O.words[0]|0,u=t.words[0]|0,d=s*u,v=d&67108863,h=d/67108864|0;i.words[0]=v;for(var r=1;r<o;r++){for(var l=h>>>26,L=h&67108863,j=Math.min(r,t.length-1),I=Math.max(0,r-O.length+1);I<=j;I++){var a=r-I|0;s=O.words[a]|0,u=t.words[I]|0,d=s*u+L,l+=d/67108864|0,L=d&67108863}i.words[r]=L|0,h=l|0}return h!==0?i.words[r]=h|0:i.length--,i.strip()}var D=function(t,i,o){var s=t.words,u=i.words,d=o.words,v=0,h,r,l,L=s[0]|0,j=L&8191,I=L>>>13,a=s[1]|0,e=a&8191,f=a>>>13,p=s[2]|0,m=p&8191,b=p>>>13,T=s[3]|0,_=T&8191,M=T>>>13,x=s[4]|0,k=x&8191,E=x>>>13,$=s[5]|0,z=$&8191,q=$>>>13,Y=s[6]|0,Q=Y&8191,J=Y>>>13,ct=s[7]|0,V=ct&8191,Z=ct>>>13,rt=s[8]|0,X=rt&8191,ht=rt>>>13,wt=s[9]|0,tt=wt&8191,ot=wt>>>13,lt=u[0]|0,st=lt&8191,at=lt>>>13,St=u[1]|0,ut=St&8191,gt=St>>>13,Lt=u[2]|0,vt=Lt&8191,_t=Lt>>>13,Dt=u[3]|0,pt=Dt&8191,Mt=Dt>>>13,Ft=u[4]|0,mt=Ft&8191,bt=Ft>>>13,qt=u[5]|0,yt=qt&8191,kt=qt>>>13,Jt=u[6]|0,Ot=Jt&8191,Rt=Jt>>>13,Zt=u[7]|0,It=Zt&8191,Tt=Zt>>>13,Xt=u[8]|0,Et=Xt&8191,Ct=Xt>>>13,Yt=u[9]|0,Bt=Yt&8191,Pt=Yt>>>13;o.negative=t.negative^i.negative,o.length=19,h=Math.imul(j,st),r=Math.imul(j,at),r=r+Math.imul(I,st)|0,l=Math.imul(I,at);var zt=(v+h|0)+((r&8191)<<13)|0;v=(l+(r>>>13)|0)+(zt>>>26)|0,zt&=67108863,h=Math.imul(e,st),r=Math.imul(e,at),r=r+Math.imul(f,st)|0,l=Math.imul(f,at),h=h+Math.imul(j,ut)|0,r=r+Math.imul(j,gt)|0,r=r+Math.imul(I,ut)|0,l=l+Math.imul(I,gt)|0;var jt=(v+h|0)+((r&8191)<<13)|0;v=(l+(r>>>13)|0)+(jt>>>26)|0,jt&=67108863,h=Math.imul(m,st),r=Math.imul(m,at),r=r+Math.imul(b,st)|0,l=Math.imul(b,at),h=h+Math.imul(e,ut)|0,r=r+Math.imul(e,gt)|0,r=r+Math.imul(f,ut)|0,l=l+Math.imul(f,gt)|0,h=h+Math.imul(j,vt)|0,r=r+Math.imul(j,_t)|0,r=r+Math.imul(I,vt)|0,l=l+Math.imul(I,_t)|0;var Wt=(v+h|0)+((r&8191)<<13)|0;v=(l+(r>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,h=Math.imul(_,st),r=Math.imul(_,at),r=r+Math.imul(M,st)|0,l=Math.imul(M,at),h=h+Math.imul(m,ut)|0,r=r+Math.imul(m,gt)|0,r=r+Math.imul(b,ut)|0,l=l+Math.imul(b,gt)|0,h=h+Math.imul(e,vt)|0,r=r+Math.imul(e,_t)|0,r=r+Math.imul(f,vt)|0,l=l+Math.imul(f,_t)|0,h=h+Math.imul(j,pt)|0,r=r+Math.imul(j,Mt)|0,r=r+Math.imul(I,pt)|0,l=l+Math.imul(I,Mt)|0;var Ut=(v+h|0)+((r&8191)<<13)|0;v=(l+(r>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,h=Math.imul(k,st),r=Math.imul(k,at),r=r+Math.imul(E,st)|0,l=Math.imul(E,at),h=h+Math.imul(_,ut)|0,r=r+Math.imul(_,gt)|0,r=r+Math.imul(M,ut)|0,l=l+Math.imul(M,gt)|0,h=h+Math.imul(m,vt)|0,r=r+Math.imul(m,_t)|0,r=r+Math.imul(b,vt)|0,l=l+Math.imul(b,_t)|0,h=h+Math.imul(e,pt)|0,r=r+Math.imul(e,Mt)|0,r=r+Math.imul(f,pt)|0,l=l+Math.imul(f,Mt)|0,h=h+Math.imul(j,mt)|0,r=r+Math.imul(j,bt)|0,r=r+Math.imul(I,mt)|0,l=l+Math.imul(I,bt)|0;var Ht=(v+h|0)+((r&8191)<<13)|0;v=(l+(r>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,h=Math.imul(z,st),r=Math.imul(z,at),r=r+Math.imul(q,st)|0,l=Math.imul(q,at),h=h+Math.imul(k,ut)|0,r=r+Math.imul(k,gt)|0,r=r+Math.imul(E,ut)|0,l=l+Math.imul(E,gt)|0,h=h+Math.imul(_,vt)|0,r=r+Math.imul(_,_t)|0,r=r+Math.imul(M,vt)|0,l=l+Math.imul(M,_t)|0,h=h+Math.imul(m,pt)|0,r=r+Math.imul(m,Mt)|0,r=r+Math.imul(b,pt)|0,l=l+Math.imul(b,Mt)|0,h=h+Math.imul(e,mt)|0,r=r+Math.imul(e,bt)|0,r=r+Math.imul(f,mt)|0,l=l+Math.imul(f,bt)|0,h=h+Math.imul(j,yt)|0,r=r+Math.imul(j,kt)|0,r=r+Math.imul(I,yt)|0,l=l+Math.imul(I,kt)|0;var Gt=(v+h|0)+((r&8191)<<13)|0;v=(l+(r>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,h=Math.imul(Q,st),r=Math.imul(Q,at),r=r+Math.imul(J,st)|0,l=Math.imul(J,at),h=h+Math.imul(z,ut)|0,r=r+Math.imul(z,gt)|0,r=r+Math.imul(q,ut)|0,l=l+Math.imul(q,gt)|0,h=h+Math.imul(k,vt)|0,r=r+Math.imul(k,_t)|0,r=r+Math.imul(E,vt)|0,l=l+Math.imul(E,_t)|0,h=h+Math.imul(_,pt)|0,r=r+Math.imul(_,Mt)|0,r=r+Math.imul(M,pt)|0,l=l+Math.imul(M,Mt)|0,h=h+Math.imul(m,mt)|0,r=r+Math.imul(m,bt)|0,r=r+Math.imul(b,mt)|0,l=l+Math.imul(b,bt)|0,h=h+Math.imul(e,yt)|0,r=r+Math.imul(e,kt)|0,r=r+Math.imul(f,yt)|0,l=l+Math.imul(f,kt)|0,h=h+Math.imul(j,Ot)|0,r=r+Math.imul(j,Rt)|0,r=r+Math.imul(I,Ot)|0,l=l+Math.imul(I,Rt)|0;var $t=(v+h|0)+((r&8191)<<13)|0;v=(l+(r>>>13)|0)+($t>>>26)|0,$t&=67108863,h=Math.imul(V,st),r=Math.imul(V,at),r=r+Math.imul(Z,st)|0,l=Math.imul(Z,at),h=h+Math.imul(Q,ut)|0,r=r+Math.imul(Q,gt)|0,r=r+Math.imul(J,ut)|0,l=l+Math.imul(J,gt)|0,h=h+Math.imul(z,vt)|0,r=r+Math.imul(z,_t)|0,r=r+Math.imul(q,vt)|0,l=l+Math.imul(q,_t)|0,h=h+Math.imul(k,pt)|0,r=r+Math.imul(k,Mt)|0,r=r+Math.imul(E,pt)|0,l=l+Math.imul(E,Mt)|0,h=h+Math.imul(_,mt)|0,r=r+Math.imul(_,bt)|0,r=r+Math.imul(M,mt)|0,l=l+Math.imul(M,bt)|0,h=h+Math.imul(m,yt)|0,r=r+Math.imul(m,kt)|0,r=r+Math.imul(b,yt)|0,l=l+Math.imul(b,kt)|0,h=h+Math.imul(e,Ot)|0,r=r+Math.imul(e,Rt)|0,r=r+Math.imul(f,Ot)|0,l=l+Math.imul(f,Rt)|0,h=h+Math.imul(j,It)|0,r=r+Math.imul(j,Tt)|0,r=r+Math.imul(I,It)|0,l=l+Math.imul(I,Tt)|0;var Kt=(v+h|0)+((r&8191)<<13)|0;v=(l+(r>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,h=Math.imul(X,st),r=Math.imul(X,at),r=r+Math.imul(ht,st)|0,l=Math.imul(ht,at),h=h+Math.imul(V,ut)|0,r=r+Math.imul(V,gt)|0,r=r+Math.imul(Z,ut)|0,l=l+Math.imul(Z,gt)|0,h=h+Math.imul(Q,vt)|0,r=r+Math.imul(Q,_t)|0,r=r+Math.imul(J,vt)|0,l=l+Math.imul(J,_t)|0,h=h+Math.imul(z,pt)|0,r=r+Math.imul(z,Mt)|0,r=r+Math.imul(q,pt)|0,l=l+Math.imul(q,Mt)|0,h=h+Math.imul(k,mt)|0,r=r+Math.imul(k,bt)|0,r=r+Math.imul(E,mt)|0,l=l+Math.imul(E,bt)|0,h=h+Math.imul(_,yt)|0,r=r+Math.imul(_,kt)|0,r=r+Math.imul(M,yt)|0,l=l+Math.imul(M,kt)|0,h=h+Math.imul(m,Ot)|0,r=r+Math.imul(m,Rt)|0,r=r+Math.imul(b,Ot)|0,l=l+Math.imul(b,Rt)|0,h=h+Math.imul(e,It)|0,r=r+Math.imul(e,Tt)|0,r=r+Math.imul(f,It)|0,l=l+Math.imul(f,Tt)|0,h=h+Math.imul(j,Et)|0,r=r+Math.imul(j,Ct)|0,r=r+Math.imul(I,Et)|0,l=l+Math.imul(I,Ct)|0;var de=(v+h|0)+((r&8191)<<13)|0;v=(l+(r>>>13)|0)+(de>>>26)|0,de&=67108863,h=Math.imul(tt,st),r=Math.imul(tt,at),r=r+Math.imul(ot,st)|0,l=Math.imul(ot,at),h=h+Math.imul(X,ut)|0,r=r+Math.imul(X,gt)|0,r=r+Math.imul(ht,ut)|0,l=l+Math.imul(ht,gt)|0,h=h+Math.imul(V,vt)|0,r=r+Math.imul(V,_t)|0,r=r+Math.imul(Z,vt)|0,l=l+Math.imul(Z,_t)|0,h=h+Math.imul(Q,pt)|0,r=r+Math.imul(Q,Mt)|0,r=r+Math.imul(J,pt)|0,l=l+Math.imul(J,Mt)|0,h=h+Math.imul(z,mt)|0,r=r+Math.imul(z,bt)|0,r=r+Math.imul(q,mt)|0,l=l+Math.imul(q,bt)|0,h=h+Math.imul(k,yt)|0,r=r+Math.imul(k,kt)|0,r=r+Math.imul(E,yt)|0,l=l+Math.imul(E,kt)|0,h=h+Math.imul(_,Ot)|0,r=r+Math.imul(_,Rt)|0,r=r+Math.imul(M,Ot)|0,l=l+Math.imul(M,Rt)|0,h=h+Math.imul(m,It)|0,r=r+Math.imul(m,Tt)|0,r=r+Math.imul(b,It)|0,l=l+Math.imul(b,Tt)|0,h=h+Math.imul(e,Et)|0,r=r+Math.imul(e,Ct)|0,r=r+Math.imul(f,Et)|0,l=l+Math.imul(f,Ct)|0,h=h+Math.imul(j,Bt)|0,r=r+Math.imul(j,Pt)|0,r=r+Math.imul(I,Bt)|0,l=l+Math.imul(I,Pt)|0;var pe=(v+h|0)+((r&8191)<<13)|0;v=(l+(r>>>13)|0)+(pe>>>26)|0,pe&=67108863,h=Math.imul(tt,ut),r=Math.imul(tt,gt),r=r+Math.imul(ot,ut)|0,l=Math.imul(ot,gt),h=h+Math.imul(X,vt)|0,r=r+Math.imul(X,_t)|0,r=r+Math.imul(ht,vt)|0,l=l+Math.imul(ht,_t)|0,h=h+Math.imul(V,pt)|0,r=r+Math.imul(V,Mt)|0,r=r+Math.imul(Z,pt)|0,l=l+Math.imul(Z,Mt)|0,h=h+Math.imul(Q,mt)|0,r=r+Math.imul(Q,bt)|0,r=r+Math.imul(J,mt)|0,l=l+Math.imul(J,bt)|0,h=h+Math.imul(z,yt)|0,r=r+Math.imul(z,kt)|0,r=r+Math.imul(q,yt)|0,l=l+Math.imul(q,kt)|0,h=h+Math.imul(k,Ot)|0,r=r+Math.imul(k,Rt)|0,r=r+Math.imul(E,Ot)|0,l=l+Math.imul(E,Rt)|0,h=h+Math.imul(_,It)|0,r=r+Math.imul(_,Tt)|0,r=r+Math.imul(M,It)|0,l=l+Math.imul(M,Tt)|0,h=h+Math.imul(m,Et)|0,r=r+Math.imul(m,Ct)|0,r=r+Math.imul(b,Et)|0,l=l+Math.imul(b,Ct)|0,h=h+Math.imul(e,Bt)|0,r=r+Math.imul(e,Pt)|0,r=r+Math.imul(f,Bt)|0,l=l+Math.imul(f,Pt)|0;var ge=(v+h|0)+((r&8191)<<13)|0;v=(l+(r>>>13)|0)+(ge>>>26)|0,ge&=67108863,h=Math.imul(tt,vt),r=Math.imul(tt,_t),r=r+Math.imul(ot,vt)|0,l=Math.imul(ot,_t),h=h+Math.imul(X,pt)|0,r=r+Math.imul(X,Mt)|0,r=r+Math.imul(ht,pt)|0,l=l+Math.imul(ht,Mt)|0,h=h+Math.imul(V,mt)|0,r=r+Math.imul(V,bt)|0,r=r+Math.imul(Z,mt)|0,l=l+Math.imul(Z,bt)|0,h=h+Math.imul(Q,yt)|0,r=r+Math.imul(Q,kt)|0,r=r+Math.imul(J,yt)|0,l=l+Math.imul(J,kt)|0,h=h+Math.imul(z,Ot)|0,r=r+Math.imul(z,Rt)|0,r=r+Math.imul(q,Ot)|0,l=l+Math.imul(q,Rt)|0,h=h+Math.imul(k,It)|0,r=r+Math.imul(k,Tt)|0,r=r+Math.imul(E,It)|0,l=l+Math.imul(E,Tt)|0,h=h+Math.imul(_,Et)|0,r=r+Math.imul(_,Ct)|0,r=r+Math.imul(M,Et)|0,l=l+Math.imul(M,Ct)|0,h=h+Math.imul(m,Bt)|0,r=r+Math.imul(m,Pt)|0,r=r+Math.imul(b,Bt)|0,l=l+Math.imul(b,Pt)|0;var ve=(v+h|0)+((r&8191)<<13)|0;v=(l+(r>>>13)|0)+(ve>>>26)|0,ve&=67108863,h=Math.imul(tt,pt),r=Math.imul(tt,Mt),r=r+Math.imul(ot,pt)|0,l=Math.imul(ot,Mt),h=h+Math.imul(X,mt)|0,r=r+Math.imul(X,bt)|0,r=r+Math.imul(ht,mt)|0,l=l+Math.imul(ht,bt)|0,h=h+Math.imul(V,yt)|0,r=r+Math.imul(V,kt)|0,r=r+Math.imul(Z,yt)|0,l=l+Math.imul(Z,kt)|0,h=h+Math.imul(Q,Ot)|0,r=r+Math.imul(Q,Rt)|0,r=r+Math.imul(J,Ot)|0,l=l+Math.imul(J,Rt)|0,h=h+Math.imul(z,It)|0,r=r+Math.imul(z,Tt)|0,r=r+Math.imul(q,It)|0,l=l+Math.imul(q,Tt)|0,h=h+Math.imul(k,Et)|0,r=r+Math.imul(k,Ct)|0,r=r+Math.imul(E,Et)|0,l=l+Math.imul(E,Ct)|0,h=h+Math.imul(_,Bt)|0,r=r+Math.imul(_,Pt)|0,r=r+Math.imul(M,Bt)|0,l=l+Math.imul(M,Pt)|0;var me=(v+h|0)+((r&8191)<<13)|0;v=(l+(r>>>13)|0)+(me>>>26)|0,me&=67108863,h=Math.imul(tt,mt),r=Math.imul(tt,bt),r=r+Math.imul(ot,mt)|0,l=Math.imul(ot,bt),h=h+Math.imul(X,yt)|0,r=r+Math.imul(X,kt)|0,r=r+Math.imul(ht,yt)|0,l=l+Math.imul(ht,kt)|0,h=h+Math.imul(V,Ot)|0,r=r+Math.imul(V,Rt)|0,r=r+Math.imul(Z,Ot)|0,l=l+Math.imul(Z,Rt)|0,h=h+Math.imul(Q,It)|0,r=r+Math.imul(Q,Tt)|0,r=r+Math.imul(J,It)|0,l=l+Math.imul(J,Tt)|0,h=h+Math.imul(z,Et)|0,r=r+Math.imul(z,Ct)|0,r=r+Math.imul(q,Et)|0,l=l+Math.imul(q,Ct)|0,h=h+Math.imul(k,Bt)|0,r=r+Math.imul(k,Pt)|0,r=r+Math.imul(E,Bt)|0,l=l+Math.imul(E,Pt)|0;var ye=(v+h|0)+((r&8191)<<13)|0;v=(l+(r>>>13)|0)+(ye>>>26)|0,ye&=67108863,h=Math.imul(tt,yt),r=Math.imul(tt,kt),r=r+Math.imul(ot,yt)|0,l=Math.imul(ot,kt),h=h+Math.imul(X,Ot)|0,r=r+Math.imul(X,Rt)|0,r=r+Math.imul(ht,Ot)|0,l=l+Math.imul(ht,Rt)|0,h=h+Math.imul(V,It)|0,r=r+Math.imul(V,Tt)|0,r=r+Math.imul(Z,It)|0,l=l+Math.imul(Z,Tt)|0,h=h+Math.imul(Q,Et)|0,r=r+Math.imul(Q,Ct)|0,r=r+Math.imul(J,Et)|0,l=l+Math.imul(J,Ct)|0,h=h+Math.imul(z,Bt)|0,r=r+Math.imul(z,Pt)|0,r=r+Math.imul(q,Bt)|0,l=l+Math.imul(q,Pt)|0;var we=(v+h|0)+((r&8191)<<13)|0;v=(l+(r>>>13)|0)+(we>>>26)|0,we&=67108863,h=Math.imul(tt,Ot),r=Math.imul(tt,Rt),r=r+Math.imul(ot,Ot)|0,l=Math.imul(ot,Rt),h=h+Math.imul(X,It)|0,r=r+Math.imul(X,Tt)|0,r=r+Math.imul(ht,It)|0,l=l+Math.imul(ht,Tt)|0,h=h+Math.imul(V,Et)|0,r=r+Math.imul(V,Ct)|0,r=r+Math.imul(Z,Et)|0,l=l+Math.imul(Z,Ct)|0,h=h+Math.imul(Q,Bt)|0,r=r+Math.imul(Q,Pt)|0,r=r+Math.imul(J,Bt)|0,l=l+Math.imul(J,Pt)|0;var _e=(v+h|0)+((r&8191)<<13)|0;v=(l+(r>>>13)|0)+(_e>>>26)|0,_e&=67108863,h=Math.imul(tt,It),r=Math.imul(tt,Tt),r=r+Math.imul(ot,It)|0,l=Math.imul(ot,Tt),h=h+Math.imul(X,Et)|0,r=r+Math.imul(X,Ct)|0,r=r+Math.imul(ht,Et)|0,l=l+Math.imul(ht,Ct)|0,h=h+Math.imul(V,Bt)|0,r=r+Math.imul(V,Pt)|0,r=r+Math.imul(Z,Bt)|0,l=l+Math.imul(Z,Pt)|0;var Me=(v+h|0)+((r&8191)<<13)|0;v=(l+(r>>>13)|0)+(Me>>>26)|0,Me&=67108863,h=Math.imul(tt,Et),r=Math.imul(tt,Ct),r=r+Math.imul(ot,Et)|0,l=Math.imul(ot,Ct),h=h+Math.imul(X,Bt)|0,r=r+Math.imul(X,Pt)|0,r=r+Math.imul(ht,Bt)|0,l=l+Math.imul(ht,Pt)|0;var be=(v+h|0)+((r&8191)<<13)|0;v=(l+(r>>>13)|0)+(be>>>26)|0,be&=67108863,h=Math.imul(tt,Bt),r=Math.imul(tt,Pt),r=r+Math.imul(ot,Bt)|0,l=Math.imul(ot,Pt);var Se=(v+h|0)+((r&8191)<<13)|0;return v=(l+(r>>>13)|0)+(Se>>>26)|0,Se&=67108863,d[0]=zt,d[1]=jt,d[2]=Wt,d[3]=Ut,d[4]=Ht,d[5]=Gt,d[6]=$t,d[7]=Kt,d[8]=de,d[9]=pe,d[10]=ge,d[11]=ve,d[12]=me,d[13]=ye,d[14]=we,d[15]=_e,d[16]=Me,d[17]=be,d[18]=Se,v!==0&&(d[19]=v,o.length++),o};Math.imul||(D=H);function G(O,t,i){i.negative=t.negative^O.negative,i.length=O.length+t.length;for(var o=0,s=0,u=0;u<i.length-1;u++){var d=s;s=0;for(var v=o&67108863,h=Math.min(u,t.length-1),r=Math.max(0,u-O.length+1);r<=h;r++){var l=u-r,L=O.words[l]|0,j=t.words[r]|0,I=L*j,a=I&67108863;d=d+(I/67108864|0)|0,a=a+v|0,v=a&67108863,d=d+(a>>>26)|0,s+=d>>>26,d&=67108863}i.words[u]=v,o=d,d=s}return o!==0?i.words[u]=o:i.length--,i.strip()}function P(O,t,i){var o=new F;return o.mulp(O,t,i)}g.prototype.mulTo=function(t,i){var o,s=this.length+t.length;return this.length===10&&t.length===10?o=D(this,t,i):s<63?o=H(this,t,i):s<1024?o=G(this,t,i):o=P(this,t,i),o};function F(O,t){this.x=O,this.y=t}F.prototype.makeRBT=function(t){for(var i=new Array(t),o=g.prototype._countBits(t)-1,s=0;s<t;s++)i[s]=this.revBin(s,o,t);return i},F.prototype.revBin=function(t,i,o){if(t===0||t===o-1)return t;for(var s=0,u=0;u<i;u++)s|=(t&1)<<i-u-1,t>>=1;return s},F.prototype.permute=function(t,i,o,s,u,d){for(var v=0;v<d;v++)s[v]=i[t[v]],u[v]=o[t[v]]},F.prototype.transform=function(t,i,o,s,u,d){this.permute(d,t,i,o,s,u);for(var v=1;v<u;v<<=1)for(var h=v<<1,r=Math.cos(2*Math.PI/h),l=Math.sin(2*Math.PI/h),L=0;L<u;L+=h)for(var j=r,I=l,a=0;a<v;a++){var e=o[L+a],f=s[L+a],p=o[L+a+v],m=s[L+a+v],b=j*p-I*m;m=j*m+I*p,p=b,o[L+a]=e+p,s[L+a]=f+m,o[L+a+v]=e-p,s[L+a+v]=f-m,a!==h&&(b=r*j-l*I,I=r*I+l*j,j=b)}},F.prototype.guessLen13b=function(t,i){var o=Math.max(i,t)|1,s=o&1,u=0;for(o=o/2|0;o;o=o>>>1)u++;return 1<<u+1+s},F.prototype.conjugate=function(t,i,o){if(!(o<=1))for(var s=0;s<o/2;s++){var u=t[s];t[s]=t[o-s-1],t[o-s-1]=u,u=i[s],i[s]=-i[o-s-1],i[o-s-1]=-u}},F.prototype.normalize13b=function(t,i){for(var o=0,s=0;s<i/2;s++){var u=Math.round(t[2*s+1]/i)*8192+Math.round(t[2*s]/i)+o;t[s]=u&67108863,u<67108864?o=0:o=u/67108864|0}return t},F.prototype.convert13b=function(t,i,o,s){for(var u=0,d=0;d<i;d++)u=u+(t[d]|0),o[2*d]=u&8191,u=u>>>13,o[2*d+1]=u&8191,u=u>>>13;for(d=2*i;d<s;++d)o[d]=0;S(u===0),S((u&-8192)===0)},F.prototype.stub=function(t){for(var i=new Array(t),o=0;o<t;o++)i[o]=0;return i},F.prototype.mulp=function(t,i,o){var s=2*this.guessLen13b(t.length,i.length),u=this.makeRBT(s),d=this.stub(s),v=new Array(s),h=new Array(s),r=new Array(s),l=new Array(s),L=new Array(s),j=new Array(s),I=o.words;I.length=s,this.convert13b(t.words,t.length,v,s),this.convert13b(i.words,i.length,l,s),this.transform(v,d,h,r,s,u),this.transform(l,d,L,j,s,u);for(var a=0;a<s;a++){var e=h[a]*L[a]-r[a]*j[a];r[a]=h[a]*j[a]+r[a]*L[a],h[a]=e}return this.conjugate(h,r,s),this.transform(h,r,I,d,s,u),this.conjugate(I,d,s),this.normalize13b(I,s),o.negative=t.negative^i.negative,o.length=t.length+i.length,o.strip()},g.prototype.mul=function(t){var i=new g(null);return i.words=new Array(this.length+t.length),this.mulTo(t,i)},g.prototype.mulf=function(t){var i=new g(null);return i.words=new Array(this.length+t.length),P(this,t,i)},g.prototype.imul=function(t){return this.clone().mulTo(t,this)},g.prototype.imuln=function(t){S(typeof t=="number"),S(t<67108864);for(var i=0,o=0;o<this.length;o++){var s=(this.words[o]|0)*t,u=(s&67108863)+(i&67108863);i>>=26,i+=s/67108864|0,i+=u>>>26,this.words[o]=u&67108863}return i!==0&&(this.words[o]=i,this.length++),this},g.prototype.muln=function(t){return this.clone().imuln(t)},g.prototype.sqr=function(){return this.mul(this)},g.prototype.isqr=function(){return this.imul(this.clone())},g.prototype.pow=function(t){var i=et(t);if(i.length===0)return new g(1);for(var o=this,s=0;s<i.length&&i[s]===0;s++,o=o.sqr());if(++s<i.length)for(var u=o.sqr();s<i.length;s++,u=u.sqr())i[s]!==0&&(o=o.mul(u));return o},g.prototype.iushln=function(t){S(typeof t=="number"&&t>=0);var i=t%26,o=(t-i)/26,s=67108863>>>26-i<<26-i,u;if(i!==0){var d=0;for(u=0;u<this.length;u++){var v=this.words[u]&s,h=(this.words[u]|0)-v<<i;this.words[u]=h|d,d=v>>>26-i}d&&(this.words[u]=d,this.length++)}if(o!==0){for(u=this.length-1;u>=0;u--)this.words[u+o]=this.words[u];for(u=0;u<o;u++)this.words[u]=0;this.length+=o}return this.strip()},g.prototype.ishln=function(t){return S(this.negative===0),this.iushln(t)},g.prototype.iushrn=function(t,i,o){S(typeof t=="number"&&t>=0);var s;i?s=(i-i%26)/26:s=0;var u=t%26,d=Math.min((t-u)/26,this.length),v=67108863^67108863>>>u<<u,h=o;if(s-=d,s=Math.max(0,s),h){for(var r=0;r<d;r++)h.words[r]=this.words[r];h.length=d}if(d!==0)if(this.length>d)for(this.length-=d,r=0;r<this.length;r++)this.words[r]=this.words[r+d];else this.words[0]=0,this.length=1;var l=0;for(r=this.length-1;r>=0&&(l!==0||r>=s);r--){var L=this.words[r]|0;this.words[r]=l<<26-u|L>>>u,l=L&v}return h&&l!==0&&(h.words[h.length++]=l),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},g.prototype.ishrn=function(t,i,o){return S(this.negative===0),this.iushrn(t,i,o)},g.prototype.shln=function(t){return this.clone().ishln(t)},g.prototype.ushln=function(t){return this.clone().iushln(t)},g.prototype.shrn=function(t){return this.clone().ishrn(t)},g.prototype.ushrn=function(t){return this.clone().iushrn(t)},g.prototype.testn=function(t){S(typeof t=="number"&&t>=0);var i=t%26,o=(t-i)/26,s=1<<i;if(this.length<=o)return!1;var u=this.words[o];return!!(u&s)},g.prototype.imaskn=function(t){S(typeof t=="number"&&t>=0);var i=t%26,o=(t-i)/26;if(S(this.negative===0,"imaskn works only with positive numbers"),this.length<=o)return this;if(i!==0&&o++,this.length=Math.min(o,this.length),i!==0){var s=67108863^67108863>>>i<<i;this.words[this.length-1]&=s}return this.strip()},g.prototype.maskn=function(t){return this.clone().imaskn(t)},g.prototype.iaddn=function(t){return S(typeof t=="number"),S(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},g.prototype._iaddn=function(t){this.words[0]+=t;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},g.prototype.isubn=function(t){if(S(typeof t=="number"),S(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this.strip()},g.prototype.addn=function(t){return this.clone().iaddn(t)},g.prototype.subn=function(t){return this.clone().isubn(t)},g.prototype.iabs=function(){return this.negative=0,this},g.prototype.abs=function(){return this.clone().iabs()},g.prototype._ishlnsubmul=function(t,i,o){var s=t.length+o,u;this._expand(s);var d,v=0;for(u=0;u<t.length;u++){d=(this.words[u+o]|0)+v;var h=(t.words[u]|0)*i;d-=h&67108863,v=(d>>26)-(h/67108864|0),this.words[u+o]=d&67108863}for(;u<this.length-o;u++)d=(this.words[u+o]|0)+v,v=d>>26,this.words[u+o]=d&67108863;if(v===0)return this.strip();for(S(v===-1),v=0,u=0;u<this.length;u++)d=-(this.words[u]|0)+v,v=d>>26,this.words[u]=d&67108863;return this.negative=1,this.strip()},g.prototype._wordDiv=function(t,i){var o=this.length-t.length,s=this.clone(),u=t,d=u.words[u.length-1]|0,v=this._countBits(d);o=26-v,o!==0&&(u=u.ushln(o),s.iushln(o),d=u.words[u.length-1]|0);var h=s.length-u.length,r;if(i!=="mod"){r=new g(null),r.length=h+1,r.words=new Array(r.length);for(var l=0;l<r.length;l++)r.words[l]=0}var L=s.clone()._ishlnsubmul(u,1,h);L.negative===0&&(s=L,r&&(r.words[h]=1));for(var j=h-1;j>=0;j--){var I=(s.words[u.length+j]|0)*67108864+(s.words[u.length+j-1]|0);for(I=Math.min(I/d|0,67108863),s._ishlnsubmul(u,I,j);s.negative!==0;)I--,s.negative=0,s._ishlnsubmul(u,1,j),s.isZero()||(s.negative^=1);r&&(r.words[j]=I)}return r&&r.strip(),s.strip(),i!=="div"&&o!==0&&s.iushrn(o),{div:r||null,mod:s}},g.prototype.divmod=function(t,i,o){if(S(!t.isZero()),this.isZero())return{div:new g(0),mod:new g(0)};var s,u,d;return this.negative!==0&&t.negative===0?(d=this.neg().divmod(t,i),i!=="mod"&&(s=d.div.neg()),i!=="div"&&(u=d.mod.neg(),o&&u.negative!==0&&u.iadd(t)),{div:s,mod:u}):this.negative===0&&t.negative!==0?(d=this.divmod(t.neg(),i),i!=="mod"&&(s=d.div.neg()),{div:s,mod:d.mod}):this.negative&t.negative?(d=this.neg().divmod(t.neg(),i),i!=="div"&&(u=d.mod.neg(),o&&u.negative!==0&&u.isub(t)),{div:d.div,mod:u}):t.length>this.length||this.cmp(t)<0?{div:new g(0),mod:this}:t.length===1?i==="div"?{div:this.divn(t.words[0]),mod:null}:i==="mod"?{div:null,mod:new g(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new g(this.modn(t.words[0]))}:this._wordDiv(t,i)},g.prototype.div=function(t){return this.divmod(t,"div",!1).div},g.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},g.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},g.prototype.divRound=function(t){var i=this.divmod(t);if(i.mod.isZero())return i.div;var o=i.div.negative!==0?i.mod.isub(t):i.mod,s=t.ushrn(1),u=t.andln(1),d=o.cmp(s);return d<0||u===1&&d===0?i.div:i.div.negative!==0?i.div.isubn(1):i.div.iaddn(1)},g.prototype.modn=function(t){S(t<=67108863);for(var i=(1<<26)%t,o=0,s=this.length-1;s>=0;s--)o=(i*o+(this.words[s]|0))%t;return o},g.prototype.idivn=function(t){S(t<=67108863);for(var i=0,o=this.length-1;o>=0;o--){var s=(this.words[o]|0)+i*67108864;this.words[o]=s/t|0,i=s%t}return this.strip()},g.prototype.divn=function(t){return this.clone().idivn(t)},g.prototype.egcd=function(t){S(t.negative===0),S(!t.isZero());var i=this,o=t.clone();i.negative!==0?i=i.umod(t):i=i.clone();for(var s=new g(1),u=new g(0),d=new g(0),v=new g(1),h=0;i.isEven()&&o.isEven();)i.iushrn(1),o.iushrn(1),++h;for(var r=o.clone(),l=i.clone();!i.isZero();){for(var L=0,j=1;!(i.words[0]&j)&&L<26;++L,j<<=1);if(L>0)for(i.iushrn(L);L-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(r),u.isub(l)),s.iushrn(1),u.iushrn(1);for(var I=0,a=1;!(o.words[0]&a)&&I<26;++I,a<<=1);if(I>0)for(o.iushrn(I);I-- >0;)(d.isOdd()||v.isOdd())&&(d.iadd(r),v.isub(l)),d.iushrn(1),v.iushrn(1);i.cmp(o)>=0?(i.isub(o),s.isub(d),u.isub(v)):(o.isub(i),d.isub(s),v.isub(u))}return{a:d,b:v,gcd:o.iushln(h)}},g.prototype._invmp=function(t){S(t.negative===0),S(!t.isZero());var i=this,o=t.clone();i.negative!==0?i=i.umod(t):i=i.clone();for(var s=new g(1),u=new g(0),d=o.clone();i.cmpn(1)>0&&o.cmpn(1)>0;){for(var v=0,h=1;!(i.words[0]&h)&&v<26;++v,h<<=1);if(v>0)for(i.iushrn(v);v-- >0;)s.isOdd()&&s.iadd(d),s.iushrn(1);for(var r=0,l=1;!(o.words[0]&l)&&r<26;++r,l<<=1);if(r>0)for(o.iushrn(r);r-- >0;)u.isOdd()&&u.iadd(d),u.iushrn(1);i.cmp(o)>=0?(i.isub(o),s.isub(u)):(o.isub(i),u.isub(s))}var L;return i.cmpn(1)===0?L=s:L=u,L.cmpn(0)<0&&L.iadd(t),L},g.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var i=this.clone(),o=t.clone();i.negative=0,o.negative=0;for(var s=0;i.isEven()&&o.isEven();s++)i.iushrn(1),o.iushrn(1);do{for(;i.isEven();)i.iushrn(1);for(;o.isEven();)o.iushrn(1);var u=i.cmp(o);if(u<0){var d=i;i=o,o=d}else if(u===0||o.cmpn(1)===0)break;i.isub(o)}while(!0);return o.iushln(s)},g.prototype.invm=function(t){return this.egcd(t).a.umod(t)},g.prototype.isEven=function(){return(this.words[0]&1)===0},g.prototype.isOdd=function(){return(this.words[0]&1)===1},g.prototype.andln=function(t){return this.words[0]&t},g.prototype.bincn=function(t){S(typeof t=="number");var i=t%26,o=(t-i)/26,s=1<<i;if(this.length<=o)return this._expand(o+1),this.words[o]|=s,this;for(var u=s,d=o;u!==0&&d<this.length;d++){var v=this.words[d]|0;v+=u,u=v>>>26,v&=67108863,this.words[d]=v}return u!==0&&(this.words[d]=u,this.length++),this},g.prototype.isZero=function(){return this.length===1&&this.words[0]===0},g.prototype.cmpn=function(t){var i=t<0;if(this.negative!==0&&!i)return-1;if(this.negative===0&&i)return 1;this.strip();var o;if(this.length>1)o=1;else{i&&(t=-t),S(t<=67108863,"Number is too big");var s=this.words[0]|0;o=s===t?0:s<t?-1:1}return this.negative!==0?-o|0:o},g.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var i=this.ucmp(t);return this.negative!==0?-i|0:i},g.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var i=0,o=this.length-1;o>=0;o--){var s=this.words[o]|0,u=t.words[o]|0;if(s!==u){s<u?i=-1:s>u&&(i=1);break}}return i},g.prototype.gtn=function(t){return this.cmpn(t)===1},g.prototype.gt=function(t){return this.cmp(t)===1},g.prototype.gten=function(t){return this.cmpn(t)>=0},g.prototype.gte=function(t){return this.cmp(t)>=0},g.prototype.ltn=function(t){return this.cmpn(t)===-1},g.prototype.lt=function(t){return this.cmp(t)===-1},g.prototype.lten=function(t){return this.cmpn(t)<=0},g.prototype.lte=function(t){return this.cmp(t)<=0},g.prototype.eqn=function(t){return this.cmpn(t)===0},g.prototype.eq=function(t){return this.cmp(t)===0},g.red=function(t){return new ft(t)},g.prototype.toRed=function(t){return S(!this.red,"Already a number in reduction context"),S(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},g.prototype.fromRed=function(){return S(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},g.prototype._forceRed=function(t){return this.red=t,this},g.prototype.forceRed=function(t){return S(!this.red,"Already a number in reduction context"),this._forceRed(t)},g.prototype.redAdd=function(t){return S(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},g.prototype.redIAdd=function(t){return S(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},g.prototype.redSub=function(t){return S(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},g.prototype.redISub=function(t){return S(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},g.prototype.redShl=function(t){return S(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},g.prototype.redMul=function(t){return S(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},g.prototype.redIMul=function(t){return S(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},g.prototype.redSqr=function(){return S(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},g.prototype.redISqr=function(){return S(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},g.prototype.redSqrt=function(){return S(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},g.prototype.redInvm=function(){return S(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},g.prototype.redNeg=function(){return S(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},g.prototype.redPow=function(t){return S(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var K={k256:null,p224:null,p192:null,p25519:null};function U(O,t){this.name=O,this.p=new g(t,16),this.n=this.p.bitLength(),this.k=new g(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}U.prototype._tmp=function(){var t=new g(null);return t.words=new Array(Math.ceil(this.n/13)),t},U.prototype.ireduce=function(t){var i=t,o;do this.split(i,this.tmp),i=this.imulK(i),i=i.iadd(this.tmp),o=i.bitLength();while(o>this.n);var s=o<this.n?-1:i.ucmp(this.p);return s===0?(i.words[0]=0,i.length=1):s>0?i.isub(this.p):i.strip(),i},U.prototype.split=function(t,i){t.iushrn(this.n,0,i)},U.prototype.imulK=function(t){return t.imul(this.k)};function nt(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}B(nt,U),nt.prototype.split=function(t,i){for(var o=4194303,s=Math.min(t.length,9),u=0;u<s;u++)i.words[u]=t.words[u];if(i.length=s,t.length<=9){t.words[0]=0,t.length=1;return}var d=t.words[9];for(i.words[i.length++]=d&o,u=10;u<t.length;u++){var v=t.words[u]|0;t.words[u-10]=(v&o)<<4|d>>>22,d=v}d>>>=22,t.words[u-10]=d,d===0&&t.length>10?t.length-=10:t.length-=9},nt.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var i=0,o=0;o<t.length;o++){var s=t.words[o]|0;i+=s*977,t.words[o]=i&67108863,i=s*64+(i/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function dt(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}B(dt,U);function it(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}B(it,U);function xt(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}B(xt,U),xt.prototype.imulK=function(t){for(var i=0,o=0;o<t.length;o++){var s=(t.words[o]|0)*19+i,u=s&67108863;s>>>=26,t.words[o]=u,i=s}return i!==0&&(t.words[t.length++]=i),t},g._prime=function(t){if(K[t])return K[t];var i;if(t==="k256")i=new nt;else if(t==="p224")i=new dt;else if(t==="p192")i=new it;else if(t==="p25519")i=new xt;else throw new Error("Unknown prime "+t);return K[t]=i,i};function ft(O){if(typeof O=="string"){var t=g._prime(O);this.m=t.p,this.prime=t}else S(O.gtn(1),"modulus must be greater than 1"),this.m=O,this.prime=null}ft.prototype._verify1=function(t){S(t.negative===0,"red works only with positives"),S(t.red,"red works only with red numbers")},ft.prototype._verify2=function(t,i){S((t.negative|i.negative)===0,"red works only with positives"),S(t.red&&t.red===i.red,"red works only with red numbers")},ft.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},ft.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},ft.prototype.add=function(t,i){this._verify2(t,i);var o=t.add(i);return o.cmp(this.m)>=0&&o.isub(this.m),o._forceRed(this)},ft.prototype.iadd=function(t,i){this._verify2(t,i);var o=t.iadd(i);return o.cmp(this.m)>=0&&o.isub(this.m),o},ft.prototype.sub=function(t,i){this._verify2(t,i);var o=t.sub(i);return o.cmpn(0)<0&&o.iadd(this.m),o._forceRed(this)},ft.prototype.isub=function(t,i){this._verify2(t,i);var o=t.isub(i);return o.cmpn(0)<0&&o.iadd(this.m),o},ft.prototype.shl=function(t,i){return this._verify1(t),this.imod(t.ushln(i))},ft.prototype.imul=function(t,i){return this._verify2(t,i),this.imod(t.imul(i))},ft.prototype.mul=function(t,i){return this._verify2(t,i),this.imod(t.mul(i))},ft.prototype.isqr=function(t){return this.imul(t,t.clone())},ft.prototype.sqr=function(t){return this.mul(t,t)},ft.prototype.sqrt=function(t){if(t.isZero())return t.clone();var i=this.m.andln(3);if(S(i%2===1),i===3){var o=this.m.add(new g(1)).iushrn(2);return this.pow(t,o)}for(var s=this.m.subn(1),u=0;!s.isZero()&&s.andln(1)===0;)u++,s.iushrn(1);S(!s.isZero());var d=new g(1).toRed(this),v=d.redNeg(),h=this.m.subn(1).iushrn(1),r=this.m.bitLength();for(r=new g(2*r*r).toRed(this);this.pow(r,h).cmp(v)!==0;)r.redIAdd(v);for(var l=this.pow(r,s),L=this.pow(t,s.addn(1).iushrn(1)),j=this.pow(t,s),I=u;j.cmp(d)!==0;){for(var a=j,e=0;a.cmp(d)!==0;e++)a=a.redSqr();S(e<I);var f=this.pow(l,new g(1).iushln(I-e-1));L=L.redMul(f),l=f.redSqr(),j=j.redMul(l),I=e}return L},ft.prototype.invm=function(t){var i=t._invmp(this.m);return i.negative!==0?(i.negative=0,this.imod(i).redNeg()):this.imod(i)},ft.prototype.pow=function(t,i){if(i.isZero())return new g(1).toRed(this);if(i.cmpn(1)===0)return t.clone();var o=4,s=new Array(1<<o);s[0]=new g(1).toRed(this),s[1]=t;for(var u=2;u<s.length;u++)s[u]=this.mul(s[u-1],t);var d=s[0],v=0,h=0,r=i.bitLength()%26;for(r===0&&(r=26),u=i.length-1;u>=0;u--){for(var l=i.words[u],L=r-1;L>=0;L--){var j=l>>L&1;if(d!==s[0]&&(d=this.sqr(d)),j===0&&v===0){h=0;continue}v<<=1,v|=j,h++,!(h!==o&&(u!==0||L!==0))&&(d=this.mul(d,s[v]),h=0,v=0)}r=26}return d},ft.prototype.convertTo=function(t){var i=t.umod(this.m);return i===t?i.clone():i},ft.prototype.convertFrom=function(t){var i=t.clone();return i.red=null,i},g.mont=function(t){return new Nt(t)};function Nt(O){ft.call(this,O),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new g(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}B(Nt,ft),Nt.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},Nt.prototype.convertFrom=function(t){var i=this.imod(t.mul(this.rinv));return i.red=null,i},Nt.prototype.imul=function(t,i){if(t.isZero()||i.isZero())return t.words[0]=0,t.length=1,t;var o=t.imul(i),s=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=o.isub(s).iushrn(this.shift),d=u;return u.cmp(this.m)>=0?d=u.isub(this.m):u.cmpn(0)<0&&(d=u.iadd(this.m)),d._forceRed(this)},Nt.prototype.mul=function(t,i){if(t.isZero()||i.isZero())return new g(0)._forceRed(this);var o=t.mul(i),s=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=o.isub(s).iushrn(this.shift),d=u;return u.cmp(this.m)>=0?d=u.isub(this.m):u.cmpn(0)<0&&(d=u.iadd(this.m)),d._forceRed(this)},Nt.prototype.invm=function(t){var i=this.imod(t._invmp(this.m).mul(this.r2));return i._forceRed(this)}})(c,Qe)})(Pe);var Co=Pe.exports;const Bo=Je(Co);var Po=Ne;Ne.strict=or;Ne.loose=sr;var No=Object.prototype.toString,Fo={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function Ne(c){return or(c)||sr(c)}function or(c){return c instanceof Int8Array||c instanceof Int16Array||c instanceof Int32Array||c instanceof Uint8Array||c instanceof Uint8ClampedArray||c instanceof Uint16Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array}function sr(c){return Fo[No.call(c)]}var qo=Po.strict,Lo=function(n){if(qo(n)){var y=Buffer.from(n.buffer);return n.byteLength!==n.buffer.byteLength&&(y=y.slice(n.byteOffset,n.byteOffset+n.byteLength)),y}else return Buffer.from(n)};const Do=Je(Lo),ar="hex",ur="utf8",ce="0";function ie(c){return new Uint8Array(c)}function hr(c,n=!1){const y=c.toString(ar);return n?se(y):y}function zo(c){return c.toString(ur)}function le(c){return Do(c)}function re(c,n=!1){return hr(le(c),n)}function jo(c){return zo(le(c))}function Wo(c){return Buffer.from(Vt(c),ar)}function ne(c){return ie(Wo(c))}function Fe(c){return Buffer.from(c,ur)}function Uo(c){return ie(Fe(c))}function Ho(c,n=!1){return hr(Fe(c),n)}function Go(c,n){return!(typeof c!="string"||!c.match(/^0x[0-9A-Fa-f]*$/))}function fr(...c){let n=[];return c.forEach(y=>n=n.concat(Array.from(y))),new Uint8Array([...n])}function $o(c,n=8){const y=c%n;return y?(c-y)/n*n+n:c}function Ko(c,n=8,y=ce){return Vo(c,$o(c.length,n),y)}function Vo(c,n,y=ce){return Jo(c,n,!0,y)}function Vt(c){return c.replace(/^0x/,"")}function se(c){return c.startsWith("0x")?c:`0x${c}`}function cr(c){return c=Vt(c),c=Ko(c,2),c&&(c=se(c)),c}function Qo(c){const n=c.startsWith("0x");return c=Vt(c),c=c.startsWith(ce)?c.substring(1):c,n?se(c):c}function Jo(c,n,y,S=ce){const B=n-c.length;let g=c;return B>0&&(g=S.repeat(B)+c),g}function Re(c){return le(new Uint8Array(c))}function Zo(c,n){return re(new Uint8Array(c),!n)}function Xo(c){return ie(c).buffer}function Yo(c){return Fe(c)}function ts(c,n){return Ho(c,!n)}function es(c){return ne(c).buffer}function lr(c,n){const y=Vt(cr(new Bo(c).toString(16)));return n?y:se(y)}var dr={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(c){(function(){var n="input is invalid type",y="finalize already called",S=typeof window=="object",B=S?window:{};B.JS_SHA3_NO_WINDOW&&(S=!1);var g=!S&&typeof self=="object",C=!B.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;C?B=window:g&&(B=self);var N=!B.JS_SHA3_NO_COMMON_JS&&!0&&c.exports,W=!B.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",w="0123456789abcdef".split(""),A=[31,7936,2031616,520093696],R=[4,1024,262144,67108864],et=[1,256,65536,16777216],H=[6,1536,393216,100663296],D=[0,8,16,24],G=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],P=[224,256,384,512],F=[128,256],K=["hex","buffer","arrayBuffer","array","digest"],U={128:168,256:136};(B.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"}),W&&(B.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(e){return typeof e=="object"&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var nt=function(e,f,p){return function(m){return new j(e,f,e).update(m)[p]()}},dt=function(e,f,p){return function(m,b){return new j(e,f,b).update(m)[p]()}},it=function(e,f,p){return function(m,b,T,_){return s["cshake"+e].update(m,b,T,_)[p]()}},xt=function(e,f,p){return function(m,b,T,_){return s["kmac"+e].update(m,b,T,_)[p]()}},ft=function(e,f,p,m){for(var b=0;b<K.length;++b){var T=K[b];e[T]=f(p,m,T)}return e},Nt=function(e,f){var p=nt(e,f,"hex");return p.create=function(){return new j(e,f,e)},p.update=function(m){return p.create().update(m)},ft(p,nt,e,f)},O=function(e,f){var p=dt(e,f,"hex");return p.create=function(m){return new j(e,f,m)},p.update=function(m,b){return p.create(b).update(m)},ft(p,dt,e,f)},t=function(e,f){var p=U[e],m=it(e,f,"hex");return m.create=function(b,T,_){return!T&&!_?s["shake"+e].create(b):new j(e,f,b).bytepad([T,_],p)},m.update=function(b,T,_,M){return m.create(T,_,M).update(b)},ft(m,it,e,f)},i=function(e,f){var p=U[e],m=xt(e,f,"hex");return m.create=function(b,T,_){return new I(e,f,T).bytepad(["KMAC",_],p).bytepad([b],p)},m.update=function(b,T,_,M){return m.create(b,_,M).update(T)},ft(m,xt,e,f)},o=[{name:"keccak",padding:et,bits:P,createMethod:Nt},{name:"sha3",padding:H,bits:P,createMethod:Nt},{name:"shake",padding:A,bits:F,createMethod:O},{name:"cshake",padding:R,bits:F,createMethod:t},{name:"kmac",padding:R,bits:F,createMethod:i}],s={},u=[],d=0;d<o.length;++d)for(var v=o[d],h=v.bits,r=0;r<h.length;++r){var l=v.name+"_"+h[r];if(u.push(l),s[l]=v.createMethod(h[r],v.padding),v.name!=="sha3"){var L=v.name+h[r];u.push(L),s[L]=s[l]}}function j(e,f,p){this.blocks=[],this.s=[],this.padding=f,this.outputBits=p,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=p>>5,this.extraBytes=(p&31)>>3;for(var m=0;m<50;++m)this.s[m]=0}j.prototype.update=function(e){if(this.finalized)throw new Error(y);var f,p=typeof e;if(p!=="string"){if(p==="object"){if(e===null)throw new Error(n);if(W&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!W||!ArrayBuffer.isView(e)))throw new Error(n)}else throw new Error(n);f=!0}for(var m=this.blocks,b=this.byteCount,T=e.length,_=this.blockCount,M=0,x=this.s,k,E;M<T;){if(this.reset)for(this.reset=!1,m[0]=this.block,k=1;k<_+1;++k)m[k]=0;if(f)for(k=this.start;M<T&&k<b;++M)m[k>>2]|=e[M]<<D[k++&3];else for(k=this.start;M<T&&k<b;++M)E=e.charCodeAt(M),E<128?m[k>>2]|=E<<D[k++&3]:E<2048?(m[k>>2]|=(192|E>>6)<<D[k++&3],m[k>>2]|=(128|E&63)<<D[k++&3]):E<55296||E>=57344?(m[k>>2]|=(224|E>>12)<<D[k++&3],m[k>>2]|=(128|E>>6&63)<<D[k++&3],m[k>>2]|=(128|E&63)<<D[k++&3]):(E=65536+((E&1023)<<10|e.charCodeAt(++M)&1023),m[k>>2]|=(240|E>>18)<<D[k++&3],m[k>>2]|=(128|E>>12&63)<<D[k++&3],m[k>>2]|=(128|E>>6&63)<<D[k++&3],m[k>>2]|=(128|E&63)<<D[k++&3]);if(this.lastByteIndex=k,k>=b){for(this.start=k-b,this.block=m[_],k=0;k<_;++k)x[k]^=m[k];a(x),this.reset=!0}else this.start=k}return this},j.prototype.encode=function(e,f){var p=e&255,m=1,b=[p];for(e=e>>8,p=e&255;p>0;)b.unshift(p),e=e>>8,p=e&255,++m;return f?b.push(m):b.unshift(m),this.update(b),b.length},j.prototype.encodeString=function(e){var f,p=typeof e;if(p!=="string"){if(p==="object"){if(e===null)throw new Error(n);if(W&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!W||!ArrayBuffer.isView(e)))throw new Error(n)}else throw new Error(n);f=!0}var m=0,b=e.length;if(f)m=b;else for(var T=0;T<e.length;++T){var _=e.charCodeAt(T);_<128?m+=1:_<2048?m+=2:_<55296||_>=57344?m+=3:(_=65536+((_&1023)<<10|e.charCodeAt(++T)&1023),m+=4)}return m+=this.encode(m*8),this.update(e),m},j.prototype.bytepad=function(e,f){for(var p=this.encode(f),m=0;m<e.length;++m)p+=this.encodeString(e[m]);var b=f-p%f,T=[];return T.length=b,this.update(T),this},j.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,f=this.lastByteIndex,p=this.blockCount,m=this.s;if(e[f>>2]|=this.padding[f&3],this.lastByteIndex===this.byteCount)for(e[0]=e[p],f=1;f<p+1;++f)e[f]=0;for(e[p-1]|=2147483648,f=0;f<p;++f)m[f]^=e[f];a(m)}},j.prototype.toString=j.prototype.hex=function(){this.finalize();for(var e=this.blockCount,f=this.s,p=this.outputBlocks,m=this.extraBytes,b=0,T=0,_="",M;T<p;){for(b=0;b<e&&T<p;++b,++T)M=f[b],_+=w[M>>4&15]+w[M&15]+w[M>>12&15]+w[M>>8&15]+w[M>>20&15]+w[M>>16&15]+w[M>>28&15]+w[M>>24&15];T%e===0&&(a(f),b=0)}return m&&(M=f[b],_+=w[M>>4&15]+w[M&15],m>1&&(_+=w[M>>12&15]+w[M>>8&15]),m>2&&(_+=w[M>>20&15]+w[M>>16&15])),_},j.prototype.arrayBuffer=function(){this.finalize();var e=this.blockCount,f=this.s,p=this.outputBlocks,m=this.extraBytes,b=0,T=0,_=this.outputBits>>3,M;m?M=new ArrayBuffer(p+1<<2):M=new ArrayBuffer(_);for(var x=new Uint32Array(M);T<p;){for(b=0;b<e&&T<p;++b,++T)x[T]=f[b];T%e===0&&a(f)}return m&&(x[b]=f[b],M=M.slice(0,_)),M},j.prototype.buffer=j.prototype.arrayBuffer,j.prototype.digest=j.prototype.array=function(){this.finalize();for(var e=this.blockCount,f=this.s,p=this.outputBlocks,m=this.extraBytes,b=0,T=0,_=[],M,x;T<p;){for(b=0;b<e&&T<p;++b,++T)M=T<<2,x=f[b],_[M]=x&255,_[M+1]=x>>8&255,_[M+2]=x>>16&255,_[M+3]=x>>24&255;T%e===0&&a(f)}return m&&(M=T<<2,x=f[b],_[M]=x&255,m>1&&(_[M+1]=x>>8&255),m>2&&(_[M+2]=x>>16&255)),_};function I(e,f,p){j.call(this,e,f,p)}I.prototype=new j,I.prototype.finalize=function(){return this.encode(this.outputBits,!0),j.prototype.finalize.call(this)};var a=function(e){var f,p,m,b,T,_,M,x,k,E,$,z,q,Y,Q,J,ct,V,Z,rt,X,ht,wt,tt,ot,lt,st,at,St,ut,gt,Lt,vt,_t,Dt,pt,Mt,Ft,mt,bt,qt,yt,kt,Jt,Ot,Rt,Zt,It,Tt,Xt,Et,Ct,Yt,Bt,Pt,zt,jt,Wt,Ut,Ht,Gt,$t,Kt;for(m=0;m<48;m+=2)b=e[0]^e[10]^e[20]^e[30]^e[40],T=e[1]^e[11]^e[21]^e[31]^e[41],_=e[2]^e[12]^e[22]^e[32]^e[42],M=e[3]^e[13]^e[23]^e[33]^e[43],x=e[4]^e[14]^e[24]^e[34]^e[44],k=e[5]^e[15]^e[25]^e[35]^e[45],E=e[6]^e[16]^e[26]^e[36]^e[46],$=e[7]^e[17]^e[27]^e[37]^e[47],z=e[8]^e[18]^e[28]^e[38]^e[48],q=e[9]^e[19]^e[29]^e[39]^e[49],f=z^(_<<1|M>>>31),p=q^(M<<1|_>>>31),e[0]^=f,e[1]^=p,e[10]^=f,e[11]^=p,e[20]^=f,e[21]^=p,e[30]^=f,e[31]^=p,e[40]^=f,e[41]^=p,f=b^(x<<1|k>>>31),p=T^(k<<1|x>>>31),e[2]^=f,e[3]^=p,e[12]^=f,e[13]^=p,e[22]^=f,e[23]^=p,e[32]^=f,e[33]^=p,e[42]^=f,e[43]^=p,f=_^(E<<1|$>>>31),p=M^($<<1|E>>>31),e[4]^=f,e[5]^=p,e[14]^=f,e[15]^=p,e[24]^=f,e[25]^=p,e[34]^=f,e[35]^=p,e[44]^=f,e[45]^=p,f=x^(z<<1|q>>>31),p=k^(q<<1|z>>>31),e[6]^=f,e[7]^=p,e[16]^=f,e[17]^=p,e[26]^=f,e[27]^=p,e[36]^=f,e[37]^=p,e[46]^=f,e[47]^=p,f=E^(b<<1|T>>>31),p=$^(T<<1|b>>>31),e[8]^=f,e[9]^=p,e[18]^=f,e[19]^=p,e[28]^=f,e[29]^=p,e[38]^=f,e[39]^=p,e[48]^=f,e[49]^=p,Y=e[0],Q=e[1],Rt=e[11]<<4|e[10]>>>28,Zt=e[10]<<4|e[11]>>>28,at=e[20]<<3|e[21]>>>29,St=e[21]<<3|e[20]>>>29,Ht=e[31]<<9|e[30]>>>23,Gt=e[30]<<9|e[31]>>>23,yt=e[40]<<18|e[41]>>>14,kt=e[41]<<18|e[40]>>>14,_t=e[2]<<1|e[3]>>>31,Dt=e[3]<<1|e[2]>>>31,J=e[13]<<12|e[12]>>>20,ct=e[12]<<12|e[13]>>>20,It=e[22]<<10|e[23]>>>22,Tt=e[23]<<10|e[22]>>>22,ut=e[33]<<13|e[32]>>>19,gt=e[32]<<13|e[33]>>>19,$t=e[42]<<2|e[43]>>>30,Kt=e[43]<<2|e[42]>>>30,Bt=e[5]<<30|e[4]>>>2,Pt=e[4]<<30|e[5]>>>2,pt=e[14]<<6|e[15]>>>26,Mt=e[15]<<6|e[14]>>>26,V=e[25]<<11|e[24]>>>21,Z=e[24]<<11|e[25]>>>21,Xt=e[34]<<15|e[35]>>>17,Et=e[35]<<15|e[34]>>>17,Lt=e[45]<<29|e[44]>>>3,vt=e[44]<<29|e[45]>>>3,tt=e[6]<<28|e[7]>>>4,ot=e[7]<<28|e[6]>>>4,zt=e[17]<<23|e[16]>>>9,jt=e[16]<<23|e[17]>>>9,Ft=e[26]<<25|e[27]>>>7,mt=e[27]<<25|e[26]>>>7,rt=e[36]<<21|e[37]>>>11,X=e[37]<<21|e[36]>>>11,Ct=e[47]<<24|e[46]>>>8,Yt=e[46]<<24|e[47]>>>8,Jt=e[8]<<27|e[9]>>>5,Ot=e[9]<<27|e[8]>>>5,lt=e[18]<<20|e[19]>>>12,st=e[19]<<20|e[18]>>>12,Wt=e[29]<<7|e[28]>>>25,Ut=e[28]<<7|e[29]>>>25,bt=e[38]<<8|e[39]>>>24,qt=e[39]<<8|e[38]>>>24,ht=e[48]<<14|e[49]>>>18,wt=e[49]<<14|e[48]>>>18,e[0]=Y^~J&V,e[1]=Q^~ct&Z,e[10]=tt^~lt&at,e[11]=ot^~st&St,e[20]=_t^~pt&Ft,e[21]=Dt^~Mt&mt,e[30]=Jt^~Rt&It,e[31]=Ot^~Zt&Tt,e[40]=Bt^~zt&Wt,e[41]=Pt^~jt&Ut,e[2]=J^~V&rt,e[3]=ct^~Z&X,e[12]=lt^~at&ut,e[13]=st^~St&gt,e[22]=pt^~Ft&bt,e[23]=Mt^~mt&qt,e[32]=Rt^~It&Xt,e[33]=Zt^~Tt&Et,e[42]=zt^~Wt&Ht,e[43]=jt^~Ut&Gt,e[4]=V^~rt&ht,e[5]=Z^~X&wt,e[14]=at^~ut&Lt,e[15]=St^~gt&vt,e[24]=Ft^~bt&yt,e[25]=mt^~qt&kt,e[34]=It^~Xt&Ct,e[35]=Tt^~Et&Yt,e[44]=Wt^~Ht&$t,e[45]=Ut^~Gt&Kt,e[6]=rt^~ht&Y,e[7]=X^~wt&Q,e[16]=ut^~Lt&tt,e[17]=gt^~vt&ot,e[26]=bt^~yt&_t,e[27]=qt^~kt&Dt,e[36]=Xt^~Ct&Jt,e[37]=Et^~Yt&Ot,e[46]=Ht^~$t&Bt,e[47]=Gt^~Kt&Pt,e[8]=ht^~Y&J,e[9]=wt^~Q&ct,e[18]=Lt^~tt&lt,e[19]=vt^~ot&st,e[28]=yt^~_t&pt,e[29]=kt^~Dt&Mt,e[38]=Ct^~Jt&Rt,e[39]=Yt^~Ot&Zt,e[48]=$t^~Bt&zt,e[49]=Kt^~Pt&jt,e[0]^=G[m],e[1]^=G[m+1]};if(N)c.exports=s;else for(d=0;d<u.length;++d)B[u[d]]=s[u[d]]})()})(dr);var rs=dr.exports;function he(c){return cr(c)}function ns(c){return Qo(se(c))}const is=ji;function Ae(){return((n,y)=>{for(y=n="";n++<36;y+=n*51&52?(n^15?8^Math.random()*(n^20?16:4):4).toString(16):"-");return y})()}function os(c){return c===""||typeof c=="string"&&c.trim()===""}function ss(c){return!(c&&c.length)}function pr(c,n){return Go(c)}function as(c){return typeof c.method<"u"}function ae(c){return typeof c.result<"u"}function fe(c){return typeof c.error<"u"}function He(c){return typeof c.event<"u"}function us(c){return Eo.includes(c)||c.startsWith("wc_")}function hs(c){return c.method.startsWith("wc_")?!0:!ir.includes(c.method)}function fs(c){c=Vt(c.toLowerCase());const n=Vt(rs.keccak_256(Yo(c)));let y="";for(let S=0;S<c.length;S++)parseInt(n[S],16)>7?y+=c[S].toUpperCase():y+=c[S];return se(y)}const cs=c=>c?c.toLowerCase().substring(0,2)!=="0x"?!1:/^(0x)?[0-9a-f]{40}$/i.test(c)?/^(0x)?[0-9a-f]{40}$/.test(c)||/^(0x)?[0-9A-F]{40}$/.test(c)?!0:c===fs(c):!1:!1;function Ge(c){return!ss(c)&&!pr(c[0])&&(c[0]=ts(c[0])),c}function xe(c){if(typeof c.type<"u"&&c.type!=="0")return c;if(typeof c.from>"u"||!cs(c.from))throw new Error("Transaction object must include a valid 'from' value.");function n(B){let g=B;return(typeof B=="number"||typeof B=="string"&&!os(B))&&(pr(B)?typeof B=="string"&&(g=he(B)):g=lr(B)),typeof g=="string"&&(g=ns(g)),g}const y={from:he(c.from),to:typeof c.to>"u"?void 0:he(c.to),gasPrice:typeof c.gasPrice>"u"?"":n(c.gasPrice),gas:typeof c.gas>"u"?typeof c.gasLimit>"u"?"":n(c.gasLimit):n(c.gas),value:typeof c.value>"u"?"":n(c.value),nonce:typeof c.nonce>"u"?"":n(c.nonce),data:typeof c.data>"u"?"":he(c.data)||"0x"},S=["gasPrice","gas","value","nonce"];return Object.keys(y).forEach(B=>{(typeof y[B]>"u"||typeof y[B]=="string"&&!y[B].trim().length)&&S.includes(B)&&delete y[B]}),y}function ls(c){const n=c.message||"Failed or Rejected Request";let y=-32e3;if(c&&!c.code)switch(n){case"Parse error":y=-32700;break;case"Invalid request":y=-32600;break;case"Method not found":y=-32601;break;case"Invalid params":y=-32602;break;case"Internal error":y=-32603;break;default:y=-32e3;break}const S={code:y,message:n};return c.data&&(S.data=c.data),S}var qe={};(function(c){const n=Ui,y=Hi,S=Wi,B=P=>P==null;function g(P){switch(P.arrayFormat){case"index":return F=>(K,U)=>{const nt=K.length;return U===void 0||P.skipNull&&U===null||P.skipEmptyString&&U===""?K:U===null?[...K,[W(F,P),"[",nt,"]"].join("")]:[...K,[W(F,P),"[",W(nt,P),"]=",W(U,P)].join("")]};case"bracket":return F=>(K,U)=>U===void 0||P.skipNull&&U===null||P.skipEmptyString&&U===""?K:U===null?[...K,[W(F,P),"[]"].join("")]:[...K,[W(F,P),"[]=",W(U,P)].join("")];case"comma":case"separator":return F=>(K,U)=>U==null||U.length===0?K:K.length===0?[[W(F,P),"=",W(U,P)].join("")]:[[K,W(U,P)].join(P.arrayFormatSeparator)];default:return F=>(K,U)=>U===void 0||P.skipNull&&U===null||P.skipEmptyString&&U===""?K:U===null?[...K,W(F,P)]:[...K,[W(F,P),"=",W(U,P)].join("")]}}function C(P){let F;switch(P.arrayFormat){case"index":return(K,U,nt)=>{if(F=/\[(\d*)\]$/.exec(K),K=K.replace(/\[\d*\]$/,""),!F){nt[K]=U;return}nt[K]===void 0&&(nt[K]={}),nt[K][F[1]]=U};case"bracket":return(K,U,nt)=>{if(F=/(\[\])$/.exec(K),K=K.replace(/\[\]$/,""),!F){nt[K]=U;return}if(nt[K]===void 0){nt[K]=[U];return}nt[K]=[].concat(nt[K],U)};case"comma":case"separator":return(K,U,nt)=>{const it=typeof U=="string"&&U.split("").indexOf(P.arrayFormatSeparator)>-1?U.split(P.arrayFormatSeparator).map(xt=>w(xt,P)):U===null?U:w(U,P);nt[K]=it};default:return(K,U,nt)=>{if(nt[K]===void 0){nt[K]=U;return}nt[K]=[].concat(nt[K],U)}}}function N(P){if(typeof P!="string"||P.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function W(P,F){return F.encode?F.strict?n(P):encodeURIComponent(P):P}function w(P,F){return F.decode?y(P):P}function A(P){return Array.isArray(P)?P.sort():typeof P=="object"?A(Object.keys(P)).sort((F,K)=>Number(F)-Number(K)).map(F=>P[F]):P}function R(P){const F=P.indexOf("#");return F!==-1&&(P=P.slice(0,F)),P}function et(P){let F="";const K=P.indexOf("#");return K!==-1&&(F=P.slice(K)),F}function H(P){P=R(P);const F=P.indexOf("?");return F===-1?"":P.slice(F+1)}function D(P,F){return F.parseNumbers&&!Number.isNaN(Number(P))&&typeof P=="string"&&P.trim()!==""?P=Number(P):F.parseBooleans&&P!==null&&(P.toLowerCase()==="true"||P.toLowerCase()==="false")&&(P=P.toLowerCase()==="true"),P}function G(P,F){F=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},F),N(F.arrayFormatSeparator);const K=C(F),U=Object.create(null);if(typeof P!="string"||(P=P.trim().replace(/^[?#&]/,""),!P))return U;for(const nt of P.split("&")){let[dt,it]=S(F.decode?nt.replace(/\+/g," "):nt,"=");it=it===void 0?null:["comma","separator"].includes(F.arrayFormat)?it:w(it,F),K(w(dt,F),it,U)}for(const nt of Object.keys(U)){const dt=U[nt];if(typeof dt=="object"&&dt!==null)for(const it of Object.keys(dt))dt[it]=D(dt[it],F);else U[nt]=D(dt,F)}return F.sort===!1?U:(F.sort===!0?Object.keys(U).sort():Object.keys(U).sort(F.sort)).reduce((nt,dt)=>{const it=U[dt];return it&&typeof it=="object"&&!Array.isArray(it)?nt[dt]=A(it):nt[dt]=it,nt},Object.create(null))}c.extract=H,c.parse=G,c.stringify=(P,F)=>{if(!P)return"";F=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},F),N(F.arrayFormatSeparator);const K=it=>F.skipNull&&B(P[it])||F.skipEmptyString&&P[it]==="",U=g(F),nt={};for(const it of Object.keys(P))K(it)||(nt[it]=P[it]);const dt=Object.keys(nt);return F.sort!==!1&&dt.sort(F.sort),dt.map(it=>{const xt=P[it];return xt===void 0?"":xt===null?W(it,F):Array.isArray(xt)?xt.reduce(U(it),[]).join("&"):W(it,F)+"="+W(xt,F)}).filter(it=>it.length>0).join("&")},c.parseUrl=(P,F)=>{F=Object.assign({decode:!0},F);const[K,U]=S(P,"#");return Object.assign({url:K.split("?")[0]||"",query:G(H(P),F)},F&&F.parseFragmentIdentifier&&U?{fragmentIdentifier:w(U,F)}:{})},c.stringifyUrl=(P,F)=>{F=Object.assign({encode:!0,strict:!0},F);const K=R(P.url).split("?")[0]||"",U=c.extract(P.url),nt=c.parse(U,{sort:!1}),dt=Object.assign(nt,P.query);let it=c.stringify(dt,F);it&&(it=`?${it}`);let xt=et(P.url);return P.fragmentIdentifier&&(xt=`#${W(P.fragmentIdentifier,F)}`),`${K}${it}${xt}`}})(qe);function ds(c){const n=c.indexOf("?")!==-1?c.indexOf("?"):void 0;return typeof n<"u"?c.substr(n):""}function ps(c,n){let y=gr(c);return y=Object.assign(Object.assign({},y),n),c=gs(y),c}function gr(c){return qe.parse(c)}function gs(c){return qe.stringify(c)}function vs(c){return typeof c.bridge<"u"}function ms(c){const n=c.indexOf(":"),y=c.indexOf("?")!==-1?c.indexOf("?"):void 0,S=c.substring(0,n),B=c.substring(n+1,y);function g(R){const H=R.split("@");return{handshakeTopic:H[0],version:parseInt(H[1],10)}}const C=g(B),N=typeof y<"u"?c.substr(y):"";function W(R){const et=gr(R);return{key:et.key||"",bridge:et.bridge||""}}const w=W(N);return Object.assign(Object.assign({protocol:S},C),w)}class ys{constructor(){this._eventEmitters=[],typeof window<"u"&&typeof window.addEventListener<"u"&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(n,y){this._eventEmitters.push({event:n,callback:y})}trigger(n){let y=[];n&&(y=this._eventEmitters.filter(S=>S.event===n)),y.forEach(S=>{S.callback()})}}const ws=typeof window.WebSocket<"u"?window.WebSocket:require("ws");class _s{constructor(n){if(this.opts=n,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=n.protocol,this._version=n.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=n.subscriptions||[],this._netMonitor=n.netMonitor||new ys,!n.url||typeof n.url!="string")throw new Error("Missing or invalid WebSocket url");this._url=n.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(n){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(n){}get connecting(){return this.readyState===0}set connected(n){}get connected(){return this.readyState===1}set closing(n){}get closing(){return this.readyState===2}set closed(n){}get closed(){return this.readyState===3}open(){this._socketCreate()}close(){this._socketClose()}send(n,y,S){if(!y||typeof y!="string")throw new Error("Missing or invalid topic field");this._socketSend({topic:y,type:"pub",payload:n,silent:!!S})}subscribe(n){this._socketSend({topic:n,type:"sub",payload:"",silent:!0})}on(n,y){this._events.push({event:n,callback:y})}_socketCreate(){if(this._nextSocket)return;const n=Ms(this._url,this._protocol,this._version);if(this._nextSocket=new ws(n),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=y=>this._socketReceive(y),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=y=>this._socketError(y),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(n){const y=JSON.stringify(n);this._socket&&this._socket.readyState===1?this._socket.send(y):(this._setToQueue(n),this._socketCreate())}async _socketReceive(n){let y;try{y=JSON.parse(n.data)}catch{return}if(this._socketSend({topic:y.topic,type:"ack",payload:"",silent:!0}),this._socket&&this._socket.readyState===1){const S=this._events.filter(B=>B.event==="message");S&&S.length&&S.forEach(B=>B.callback(y))}}_socketError(n){const y=this._events.filter(S=>S.event==="error");y&&y.length&&y.forEach(S=>S.callback(n))}_queueSubscriptions(){this._subscriptions.forEach(y=>this._queue.push({topic:y,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(n){this._queue.push(n)}_pushQueue(){this._queue.forEach(y=>this._socketSend(y)),this._queue=[]}}function Ms(c,n,y){var S,B;const C=(c.startsWith("https")?c.replace("https","wss"):c.startsWith("http")?c.replace("http","ws"):c).split("?"),N=So()?{protocol:n,version:y,env:"browser",host:((S=xo())===null||S===void 0?void 0:S.host)||""}:{protocol:n,version:y,env:((B=Ee())===null||B===void 0?void 0:B.name)||""},W=ps(ds(C[1]||""),N);return C[0]+"?"+W}const ke="Session currently connected",te="Session currently disconnected",bs="Session Rejected",Ss="Missing JSON RPC response",As='JSON-RPC success response must include "result" field',xs='JSON-RPC error response must include "error" field',ks='JSON RPC request must have valid "method" value',Os='JSON RPC request must have valid "id" value',Rs="Missing one of the required parameters: bridge / uri / session",$e="JSON RPC response format is invalid",Is="URI format is invalid",Ts="QRCode Modal not provided",Ke="User close QRCode Modal";class Es{constructor(){this._eventEmitters=[]}subscribe(n){this._eventEmitters.push(n)}unsubscribe(n){this._eventEmitters=this._eventEmitters.filter(y=>y.event!==n)}trigger(n){let y=[],S;as(n)?S=n.method:ae(n)||fe(n)?S=`response:${n.id}`:He(n)?S=n.event:S="",S&&(y=this._eventEmitters.filter(B=>B.event===S)),(!y||!y.length)&&!us(S)&&!He(S)&&(y=this._eventEmitters.filter(B=>B.event==="call_request")),y.forEach(B=>{if(fe(n)){const g=new Error(n.error.message);B.callback(g,null)}else B.callback(null,n)})}}class Cs{constructor(n="walletconnect"){this.storageId=n}getSession(){let n=null;const y=rr(this.storageId);return y&&vs(y)&&(n=y),n}setSession(n){return To(this.storageId,n),n}removeSession(){nr(this.storageId)}}const Bs="walletconnect.org",Ps="abcdefghijklmnopqrstuvwxyz0123456789",vr=Ps.split("").map(c=>`https://${c}.bridge.walletconnect.org`);function Ns(c){let n=c.indexOf("//")>-1?c.split("/")[2]:c.split("/")[0];return n=n.split(":")[0],n=n.split("?")[0],n}function Fs(c){return Ns(c).split(".").slice(-2).join(".")}function qs(){return Math.floor(Math.random()*vr.length)}function Ls(){return vr[qs()]}function Ds(c){return Fs(c)===Bs}function zs(c){return Ds(c)?Ls():c}class js{constructor(n){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new Es,this._clientMeta=We()||n.connectorOpts.clientMeta||null,this._cryptoLib=n.cryptoLib,this._sessionStorage=n.sessionStorage||new Cs(n.connectorOpts.storageId),this._qrcodeModal=n.connectorOpts.qrcodeModal,this._qrcodeModalOptions=n.connectorOpts.qrcodeModalOptions,this._signingMethods=[...ir,...n.connectorOpts.signingMethods||[]],!n.connectorOpts.bridge&&!n.connectorOpts.uri&&!n.connectorOpts.session)throw new Error(Rs);n.connectorOpts.bridge&&(this.bridge=zs(n.connectorOpts.bridge)),n.connectorOpts.uri&&(this.uri=n.connectorOpts.uri);const y=n.connectorOpts.session||this._getStorageSession();y&&(this.session=y),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=n.transport||new _s({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),n.connectorOpts.uri&&this._subscribeToSessionRequest(),n.pushServerOpts&&this._registerPushServer(n.pushServerOpts)}set bridge(n){n&&(this._bridge=n)}get bridge(){return this._bridge}set key(n){if(!n)return;const y=es(n);this._key=y}get key(){return this._key?Zo(this._key,!0):""}set clientId(n){n&&(this._clientId=n)}get clientId(){let n=this._clientId;return n||(n=this._clientId=Ae()),this._clientId}set peerId(n){n&&(this._peerId=n)}get peerId(){return this._peerId}set clientMeta(n){}get clientMeta(){let n=this._clientMeta;return n||(n=this._clientMeta=We()),n}set peerMeta(n){this._peerMeta=n}get peerMeta(){return this._peerMeta}set handshakeTopic(n){n&&(this._handshakeTopic=n)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(n){n&&(this._handshakeId=n)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(n){if(!n)return;const{handshakeTopic:y,bridge:S,key:B}=this._parseUri(n);this.handshakeTopic=y,this.bridge=S,this.key=B}set chainId(n){this._chainId=n}get chainId(){return this._chainId}set networkId(n){this._networkId=n}get networkId(){return this._networkId}set accounts(n){this._accounts=n}get accounts(){return this._accounts}set rpcUrl(n){this._rpcUrl=n}get rpcUrl(){return this._rpcUrl}set connected(n){}get connected(){return this._connected}set pending(n){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(n){n&&(this._connected=n.connected,this.accounts=n.accounts,this.chainId=n.chainId,this.bridge=n.bridge,this.key=n.key,this.clientId=n.clientId,this.clientMeta=n.clientMeta,this.peerId=n.peerId,this.peerMeta=n.peerMeta,this.handshakeId=n.handshakeId,this.handshakeTopic=n.handshakeTopic)}on(n,y){const S={event:n,callback:y};this._eventManager.subscribe(S)}off(n){this._eventManager.unsubscribe(n)}async createInstantRequest(n){this._key=await this._generateKey();const y=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(n)}]});this.handshakeId=y.id,this.handshakeTopic=Ae(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw new Error(Ke)});const S=()=>{this.killSession()};try{const B=await this._sendCallRequest(y);return B&&S(),B}catch(B){throw S(),B}}async connect(n){if(!this._qrcodeModal)throw new Error(Ts);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(n),new Promise(async(y,S)=>{this.on("modal_closed",()=>S(new Error(Ke))),this.on("connect",(B,g)=>{if(B)return S(B);y(g.params[0])})}))}async createSession(n){if(this._connected)throw new Error(ke);if(this.pending)return;this._key=await this._generateKey();const y=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:n&&n.chainId?n.chainId:null}]});this.handshakeId=y.id,this.handshakeTopic=Ae(),this._sendSessionRequest(y,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(n){if(this._connected)throw new Error(ke);this.chainId=n.chainId,this.accounts=n.accounts,this.networkId=n.networkId||0,this.rpcUrl=n.rpcUrl||"";const y={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},S={id:this.handshakeId,jsonrpc:"2.0",result:y};this._sendResponse(S),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(n){if(this._connected)throw new Error(ke);const y=n&&n.message?n.message:bs,S=this._formatResponse({id:this.handshakeId,error:{message:y}});this._sendResponse(S),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:y}]}),this._removeStorageSession()}updateSession(n){if(!this._connected)throw new Error(te);this.chainId=n.chainId,this.accounts=n.accounts,this.networkId=n.networkId||0,this.rpcUrl=n.rpcUrl||"";const y={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},S=this._formatRequest({method:"wc_sessionUpdate",params:[y]});this._sendSessionRequest(S,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(n){const y=n?n.message:"Session Disconnected",S={approved:!1,chainId:null,networkId:null,accounts:null},B=this._formatRequest({method:"wc_sessionUpdate",params:[S]});await this._sendRequest(B),this._handleSessionDisconnect(y)}async sendTransaction(n){if(!this._connected)throw new Error(te);const y=xe(n),S=this._formatRequest({method:"eth_sendTransaction",params:[y]});return await this._sendCallRequest(S)}async signTransaction(n){if(!this._connected)throw new Error(te);const y=xe(n),S=this._formatRequest({method:"eth_signTransaction",params:[y]});return await this._sendCallRequest(S)}async signMessage(n){if(!this._connected)throw new Error(te);const y=this._formatRequest({method:"eth_sign",params:n});return await this._sendCallRequest(y)}async signPersonalMessage(n){if(!this._connected)throw new Error(te);n=Ge(n);const y=this._formatRequest({method:"personal_sign",params:n});return await this._sendCallRequest(y)}async signTypedData(n){if(!this._connected)throw new Error(te);const y=this._formatRequest({method:"eth_signTypedData",params:n});return await this._sendCallRequest(y)}async updateChain(n){if(!this._connected)throw new Error("Session currently disconnected");const y=this._formatRequest({method:"wallet_updateChain",params:[n]});return await this._sendCallRequest(y)}unsafeSend(n,y){return this._sendRequest(n,y),this._eventManager.trigger({event:"call_request_sent",params:[{request:n,options:y}]}),new Promise((S,B)=>{this._subscribeToResponse(n.id,(g,C)=>{if(g){B(g);return}if(!C)throw new Error(Ss);S(C)})})}async sendCustomRequest(n,y){if(!this._connected)throw new Error(te);switch(n.method){case"eth_accounts":return this.accounts;case"eth_chainId":return lr(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":n.params&&(n.params[0]=xe(n.params[0]));break;case"personal_sign":n.params&&(n.params=Ge(n.params));break}const S=this._formatRequest(n);return await this._sendCallRequest(S,y)}approveRequest(n){if(ae(n)){const y=this._formatResponse(n);this._sendResponse(y)}else throw new Error(As)}rejectRequest(n){if(fe(n)){const y=this._formatResponse(n);this._sendResponse(y)}else throw new Error(xs)}transportClose(){this._transport.close()}async _sendRequest(n,y){const S=this._formatRequest(n),B=await this._encrypt(S),g=typeof(y==null?void 0:y.topic)<"u"?y.topic:this.peerId,C=JSON.stringify(B),N=typeof(y==null?void 0:y.forcePushNotification)<"u"?!y.forcePushNotification:hs(S);this._transport.send(C,g,N)}async _sendResponse(n){const y=await this._encrypt(n),S=this.peerId,B=JSON.stringify(y);this._transport.send(B,S,!0)}async _sendSessionRequest(n,y,S){this._sendRequest(n,S),this._subscribeToSessionResponse(n.id,y)}_sendCallRequest(n,y){return this._sendRequest(n,y),this._eventManager.trigger({event:"call_request_sent",params:[{request:n,options:y}]}),this._subscribeToCallResponse(n.id)}_formatRequest(n){if(typeof n.method>"u")throw new Error(ks);return{id:typeof n.id>"u"?is():n.id,jsonrpc:"2.0",method:n.method,params:typeof n.params>"u"?[]:n.params}}_formatResponse(n){if(typeof n.id>"u")throw new Error(Os);const y={id:n.id,jsonrpc:"2.0"};if(fe(n)){const S=ls(n.error);return Object.assign(Object.assign(Object.assign({},y),n),{error:S})}else if(ae(n))return Object.assign(Object.assign({},y),n);throw new Error($e)}_handleSessionDisconnect(n){const y=n||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),nr(Ue)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:y}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(n,y){y?y.approved?(this._connected?(y.chainId&&(this.chainId=y.chainId),y.accounts&&(this.accounts=y.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,y.chainId&&(this.chainId=y.chainId),y.accounts&&(this.accounts=y.accounts),y.peerId&&!this.peerId&&(this.peerId=y.peerId),y.peerMeta&&!this.peerMeta&&(this.peerMeta=y.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(n):this._handleSessionDisconnect(n)}async _handleIncomingMessages(n){if(![this.clientId,this.handshakeTopic].includes(n.topic))return;let S;try{S=JSON.parse(n.payload)}catch{return}const B=await this._decrypt(S);B&&this._eventManager.trigger(B)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(n,y){this.on(`response:${n}`,y)}_subscribeToSessionResponse(n,y){this._subscribeToResponse(n,(S,B)=>{if(S){this._handleSessionResponse(S.message);return}ae(B)?this._handleSessionResponse(y,B.result):B.error&&B.error.message?this._handleSessionResponse(B.error.message):this._handleSessionResponse(y)})}_subscribeToCallResponse(n){return new Promise((y,S)=>{this._subscribeToResponse(n,(B,g)=>{if(B){S(B);return}ae(g)?y(g.result):g.error&&g.error.message?S(g.error):S(new Error($e))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(n,y)=>{const{request:S}=y.params[0];if(Mo()&&this._signingMethods.includes(S.method)){const B=rr(Ue);B&&(window.location.href=B.href)}}),this.on("wc_sessionRequest",(n,y)=>{n&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:n.toString()}]}),this.handshakeId=y.id,this.peerId=y.params[0].peerId,this.peerMeta=y.params[0].peerMeta;const S=Object.assign(Object.assign({},y),{method:"session_request"});this._eventManager.trigger(S)}),this.on("wc_sessionUpdate",(n,y)=>{n&&this._handleSessionResponse(n.message),this._handleSessionResponse("Session disconnected",y.params[0])})}_initTransport(){this._transport.on("message",n=>this._handleIncomingMessages(n)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){const n=this.protocol,y=this.handshakeTopic,S=this.version,B=encodeURIComponent(this.bridge),g=this.key;return`${n}:${y}@${S}?bridge=${B}&key=${g}`}_parseUri(n){const y=ms(n);if(y.protocol===this.protocol){if(!y.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const S=y.handshakeTopic;if(!y.bridge)throw Error("Invalid or missing bridge url parameter value");const B=decodeURIComponent(y.bridge);if(!y.key)throw Error("Invalid or missing key parameter value");const g=y.key;return{handshakeTopic:S,bridge:B,key:g}}else throw new Error(Is)}async _generateKey(){return this._cryptoLib?await this._cryptoLib.generateKey():null}async _encrypt(n){const y=this._key;return this._cryptoLib&&y?await this._cryptoLib.encrypt(n,y):null}async _decrypt(n){const y=this._key;return this._cryptoLib&&y?await this._cryptoLib.decrypt(n,y):null}_getStorageSession(){let n=null;return this._sessionStorage&&(n=this._sessionStorage.getSession()),n}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(n){if(!n.url||typeof n.url!="string")throw Error("Invalid or missing pushServerOpts.url parameter value");if(!n.type||typeof n.type!="string")throw Error("Invalid or missing pushServerOpts.type parameter value");if(!n.token||typeof n.token!="string")throw Error("Invalid or missing pushServerOpts.token parameter value");const y={bridge:this.bridge,topic:this.clientId,type:n.type,token:n.token,peerName:"",language:n.language||""};this.on("connect",async(S,B)=>{if(S)throw S;if(n.peerMeta){const g=B.params[0].peerMeta.name;y.peerName=g}try{if(!(await(await fetch(`${n.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(y)})).json()).success)throw Error("Failed to register in Push Server")}catch{throw Error("Failed to register in Push Server")}})}}function Ws(c){return ue.getBrowerCrypto().getRandomValues(new Uint8Array(c))}const mr=256,yr=mr,Us=mr,Qt="AES-CBC",Hs=`SHA-${yr}`,Ie="HMAC",Gs="encrypt",$s="decrypt",Ks="sign",Vs="verify";function Qs(c){return c===Qt?{length:yr,name:Qt}:{hash:{name:Hs},name:Ie}}function Js(c){return c===Qt?[Gs,$s]:[Ks,Vs]}async function Le(c,n=Qt){return ue.getSubtleCrypto().importKey("raw",c,Qs(n),!0,Js(n))}async function Zs(c,n,y){const S=ue.getSubtleCrypto(),B=await Le(n,Qt),g=await S.encrypt({iv:c,name:Qt},B,y);return new Uint8Array(g)}async function Xs(c,n,y){const S=ue.getSubtleCrypto(),B=await Le(n,Qt),g=await S.decrypt({iv:c,name:Qt},B,y);return new Uint8Array(g)}async function Ys(c,n){const y=ue.getSubtleCrypto(),S=await Le(c,Ie),B=await y.sign({length:Us,name:Ie},S,n);return new Uint8Array(B)}function ta(c,n,y){return Zs(c,n,y)}function ea(c,n,y){return Xs(c,n,y)}async function wr(c,n){return await Ys(c,n)}async function _r(c){const n=(c||256)/8,y=Ws(n);return Xo(le(y))}async function Mr(c,n){const y=ne(c.data),S=ne(c.iv),B=ne(c.hmac),g=re(B,!1),C=fr(y,S),N=await wr(n,C),W=re(N,!1);return Vt(g)===Vt(W)}async function ra(c,n,y){const S=ie(Re(n)),B=y||await _r(128),g=ie(Re(B)),C=re(g,!1),N=JSON.stringify(c),W=Uo(N),w=await ta(g,S,W),A=re(w,!1),R=fr(w,g),et=await wr(S,R),H=re(et,!1);return{data:A,hmac:H,iv:C}}async function na(c,n){const y=ie(Re(n));if(!y)throw new Error("Missing key: required for decryption");if(!await Mr(c,y))return null;const B=ne(c.data),g=ne(c.iv),C=await ea(g,y,B),N=jo(C);let W;try{W=JSON.parse(N)}catch{return null}return W}const ia=Object.freeze(Object.defineProperty({__proto__:null,decrypt:na,encrypt:ra,generateKey:_r,verifyHmac:Mr},Symbol.toStringTag,{value:"Module"}));class oa extends js{constructor(n,y){super({cryptoLib:ia,connectorOpts:n,pushServerOpts:y})}}const sa=Object.freeze(Object.defineProperty({__proto__:null,default:oa},Symbol.toStringTag,{value:"Module"})),ha=Ze(sa),fa=Ze(Gi);var br={exports:{}};(function(c,n){(function(y,S){c.exports=S()})(Qe,function(){return function(y){var S={};function B(g){if(S[g])return S[g].exports;var C=S[g]={i:g,l:!1,exports:{}};return y[g].call(C.exports,C,C.exports,B),C.l=!0,C.exports}return B.m=y,B.c=S,B.d=function(g,C,N){B.o(g,C)||Object.defineProperty(g,C,{enumerable:!0,get:N})},B.r=function(g){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},B.t=function(g,C){if(1&C&&(g=B(g)),8&C||4&C&&typeof g=="object"&&g&&g.__esModule)return g;var N=Object.create(null);if(B.r(N),Object.defineProperty(N,"default",{enumerable:!0,value:g}),2&C&&typeof g!="string")for(var W in g)B.d(N,W,(function(w){return g[w]}).bind(null,W));return N},B.n=function(g){var C=g&&g.__esModule?function(){return g.default}:function(){return g};return B.d(C,"a",C),C},B.o=function(g,C){return Object.prototype.hasOwnProperty.call(g,C)},B.p="",B(B.s=90)}({17:function(y,S,B){S.__esModule=!0,S.default=void 0;var g=B(18),C=function(){function N(){}return N.getFirstMatch=function(W,w){var A=w.match(W);return A&&A.length>0&&A[1]||""},N.getSecondMatch=function(W,w){var A=w.match(W);return A&&A.length>1&&A[2]||""},N.matchAndReturnConst=function(W,w,A){if(W.test(w))return A},N.getWindowsVersionName=function(W){switch(W){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},N.getMacOSVersionName=function(W){var w=W.split(".").splice(0,2).map(function(A){return parseInt(A,10)||0});if(w.push(0),w[0]===10)switch(w[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},N.getAndroidVersionName=function(W){var w=W.split(".").splice(0,2).map(function(A){return parseInt(A,10)||0});if(w.push(0),!(w[0]===1&&w[1]<5))return w[0]===1&&w[1]<6?"Cupcake":w[0]===1&&w[1]>=6?"Donut":w[0]===2&&w[1]<2?"Eclair":w[0]===2&&w[1]===2?"Froyo":w[0]===2&&w[1]>2?"Gingerbread":w[0]===3?"Honeycomb":w[0]===4&&w[1]<1?"Ice Cream Sandwich":w[0]===4&&w[1]<4?"Jelly Bean":w[0]===4&&w[1]>=4?"KitKat":w[0]===5?"Lollipop":w[0]===6?"Marshmallow":w[0]===7?"Nougat":w[0]===8?"Oreo":w[0]===9?"Pie":void 0},N.getVersionPrecision=function(W){return W.split(".").length},N.compareVersions=function(W,w,A){A===void 0&&(A=!1);var R=N.getVersionPrecision(W),et=N.getVersionPrecision(w),H=Math.max(R,et),D=0,G=N.map([W,w],function(P){var F=H-N.getVersionPrecision(P),K=P+new Array(F+1).join(".0");return N.map(K.split("."),function(U){return new Array(20-U.length).join("0")+U}).reverse()});for(A&&(D=H-Math.min(R,et)),H-=1;H>=D;){if(G[0][H]>G[1][H])return 1;if(G[0][H]===G[1][H]){if(H===D)return 0;H-=1}else if(G[0][H]<G[1][H])return-1}},N.map=function(W,w){var A,R=[];if(Array.prototype.map)return Array.prototype.map.call(W,w);for(A=0;A<W.length;A+=1)R.push(w(W[A]));return R},N.find=function(W,w){var A,R;if(Array.prototype.find)return Array.prototype.find.call(W,w);for(A=0,R=W.length;A<R;A+=1){var et=W[A];if(w(et,A))return et}},N.assign=function(W){for(var w,A,R=W,et=arguments.length,H=new Array(et>1?et-1:0),D=1;D<et;D++)H[D-1]=arguments[D];if(Object.assign)return Object.assign.apply(Object,[W].concat(H));var G=function(){var P=H[w];typeof P=="object"&&P!==null&&Object.keys(P).forEach(function(F){R[F]=P[F]})};for(w=0,A=H.length;w<A;w+=1)G();return W},N.getBrowserAlias=function(W){return g.BROWSER_ALIASES_MAP[W]},N.getBrowserTypeByAlias=function(W){return g.BROWSER_MAP[W]||""},N}();S.default=C,y.exports=S.default},18:function(y,S,B){S.__esModule=!0,S.ENGINE_MAP=S.OS_MAP=S.PLATFORMS_MAP=S.BROWSER_MAP=S.BROWSER_ALIASES_MAP=void 0,S.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},S.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},S.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},S.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},S.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(y,S,B){S.__esModule=!0,S.default=void 0;var g,C=(g=B(91))&&g.__esModule?g:{default:g},N=B(18);function W(A,R){for(var et=0;et<R.length;et++){var H=R[et];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(A,H.key,H)}}var w=function(){function A(){}var R,et,H;return A.getParser=function(D,G){if(G===void 0&&(G=!1),typeof D!="string")throw new Error("UserAgent should be a string");return new C.default(D,G)},A.parse=function(D){return new C.default(D).getResult()},R=A,H=[{key:"BROWSER_MAP",get:function(){return N.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return N.ENGINE_MAP}},{key:"OS_MAP",get:function(){return N.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return N.PLATFORMS_MAP}}],(et=null)&&W(R.prototype,et),H&&W(R,H),A}();S.default=w,y.exports=S.default},91:function(y,S,B){S.__esModule=!0,S.default=void 0;var g=A(B(92)),C=A(B(93)),N=A(B(94)),W=A(B(95)),w=A(B(17));function A(et){return et&&et.__esModule?et:{default:et}}var R=function(){function et(D,G){if(G===void 0&&(G=!1),D==null||D==="")throw new Error("UserAgent parameter can't be empty");this._ua=D,this.parsedResult={},G!==!0&&this.parse()}var H=et.prototype;return H.getUA=function(){return this._ua},H.test=function(D){return D.test(this._ua)},H.parseBrowser=function(){var D=this;this.parsedResult.browser={};var G=w.default.find(g.default,function(P){if(typeof P.test=="function")return P.test(D);if(P.test instanceof Array)return P.test.some(function(F){return D.test(F)});throw new Error("Browser's test function is not valid")});return G&&(this.parsedResult.browser=G.describe(this.getUA())),this.parsedResult.browser},H.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},H.getBrowserName=function(D){return D?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},H.getBrowserVersion=function(){return this.getBrowser().version},H.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},H.parseOS=function(){var D=this;this.parsedResult.os={};var G=w.default.find(C.default,function(P){if(typeof P.test=="function")return P.test(D);if(P.test instanceof Array)return P.test.some(function(F){return D.test(F)});throw new Error("Browser's test function is not valid")});return G&&(this.parsedResult.os=G.describe(this.getUA())),this.parsedResult.os},H.getOSName=function(D){var G=this.getOS().name;return D?String(G).toLowerCase()||"":G||""},H.getOSVersion=function(){return this.getOS().version},H.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},H.getPlatformType=function(D){D===void 0&&(D=!1);var G=this.getPlatform().type;return D?String(G).toLowerCase()||"":G||""},H.parsePlatform=function(){var D=this;this.parsedResult.platform={};var G=w.default.find(N.default,function(P){if(typeof P.test=="function")return P.test(D);if(P.test instanceof Array)return P.test.some(function(F){return D.test(F)});throw new Error("Browser's test function is not valid")});return G&&(this.parsedResult.platform=G.describe(this.getUA())),this.parsedResult.platform},H.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},H.getEngineName=function(D){return D?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},H.parseEngine=function(){var D=this;this.parsedResult.engine={};var G=w.default.find(W.default,function(P){if(typeof P.test=="function")return P.test(D);if(P.test instanceof Array)return P.test.some(function(F){return D.test(F)});throw new Error("Browser's test function is not valid")});return G&&(this.parsedResult.engine=G.describe(this.getUA())),this.parsedResult.engine},H.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},H.getResult=function(){return w.default.assign({},this.parsedResult)},H.satisfies=function(D){var G=this,P={},F=0,K={},U=0;if(Object.keys(D).forEach(function(t){var i=D[t];typeof i=="string"?(K[t]=i,U+=1):typeof i=="object"&&(P[t]=i,F+=1)}),F>0){var nt=Object.keys(P),dt=w.default.find(nt,function(t){return G.isOS(t)});if(dt){var it=this.satisfies(P[dt]);if(it!==void 0)return it}var xt=w.default.find(nt,function(t){return G.isPlatform(t)});if(xt){var ft=this.satisfies(P[xt]);if(ft!==void 0)return ft}}if(U>0){var Nt=Object.keys(K),O=w.default.find(Nt,function(t){return G.isBrowser(t,!0)});if(O!==void 0)return this.compareVersion(K[O])}},H.isBrowser=function(D,G){G===void 0&&(G=!1);var P=this.getBrowserName().toLowerCase(),F=D.toLowerCase(),K=w.default.getBrowserTypeByAlias(F);return G&&K&&(F=K.toLowerCase()),F===P},H.compareVersion=function(D){var G=[0],P=D,F=!1,K=this.getBrowserVersion();if(typeof K=="string")return D[0]===">"||D[0]==="<"?(P=D.substr(1),D[1]==="="?(F=!0,P=D.substr(2)):G=[],D[0]===">"?G.push(1):G.push(-1)):D[0]==="="?P=D.substr(1):D[0]==="~"&&(F=!0,P=D.substr(1)),G.indexOf(w.default.compareVersions(K,P,F))>-1},H.isOS=function(D){return this.getOSName(!0)===String(D).toLowerCase()},H.isPlatform=function(D){return this.getPlatformType(!0)===String(D).toLowerCase()},H.isEngine=function(D){return this.getEngineName(!0)===String(D).toLowerCase()},H.is=function(D,G){return G===void 0&&(G=!1),this.isBrowser(D,G)||this.isOS(D)||this.isPlatform(D)},H.some=function(D){var G=this;return D===void 0&&(D=[]),D.some(function(P){return G.is(P)})},et}();S.default=R,y.exports=S.default},92:function(y,S,B){S.__esModule=!0,S.default=void 0;var g,C=(g=B(17))&&g.__esModule?g:{default:g},N=/version\/(\d+(\.?_?\d+)+)/i,W=[{test:[/googlebot/i],describe:function(w){var A={name:"Googlebot"},R=C.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,w)||C.default.getFirstMatch(N,w);return R&&(A.version=R),A}},{test:[/opera/i],describe:function(w){var A={name:"Opera"},R=C.default.getFirstMatch(N,w)||C.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,w);return R&&(A.version=R),A}},{test:[/opr\/|opios/i],describe:function(w){var A={name:"Opera"},R=C.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,w)||C.default.getFirstMatch(N,w);return R&&(A.version=R),A}},{test:[/SamsungBrowser/i],describe:function(w){var A={name:"Samsung Internet for Android"},R=C.default.getFirstMatch(N,w)||C.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,w);return R&&(A.version=R),A}},{test:[/Whale/i],describe:function(w){var A={name:"NAVER Whale Browser"},R=C.default.getFirstMatch(N,w)||C.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,w);return R&&(A.version=R),A}},{test:[/MZBrowser/i],describe:function(w){var A={name:"MZ Browser"},R=C.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,w)||C.default.getFirstMatch(N,w);return R&&(A.version=R),A}},{test:[/focus/i],describe:function(w){var A={name:"Focus"},R=C.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,w)||C.default.getFirstMatch(N,w);return R&&(A.version=R),A}},{test:[/swing/i],describe:function(w){var A={name:"Swing"},R=C.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,w)||C.default.getFirstMatch(N,w);return R&&(A.version=R),A}},{test:[/coast/i],describe:function(w){var A={name:"Opera Coast"},R=C.default.getFirstMatch(N,w)||C.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,w);return R&&(A.version=R),A}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(w){var A={name:"Opera Touch"},R=C.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,w)||C.default.getFirstMatch(N,w);return R&&(A.version=R),A}},{test:[/yabrowser/i],describe:function(w){var A={name:"Yandex Browser"},R=C.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,w)||C.default.getFirstMatch(N,w);return R&&(A.version=R),A}},{test:[/ucbrowser/i],describe:function(w){var A={name:"UC Browser"},R=C.default.getFirstMatch(N,w)||C.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,w);return R&&(A.version=R),A}},{test:[/Maxthon|mxios/i],describe:function(w){var A={name:"Maxthon"},R=C.default.getFirstMatch(N,w)||C.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,w);return R&&(A.version=R),A}},{test:[/epiphany/i],describe:function(w){var A={name:"Epiphany"},R=C.default.getFirstMatch(N,w)||C.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,w);return R&&(A.version=R),A}},{test:[/puffin/i],describe:function(w){var A={name:"Puffin"},R=C.default.getFirstMatch(N,w)||C.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,w);return R&&(A.version=R),A}},{test:[/sleipnir/i],describe:function(w){var A={name:"Sleipnir"},R=C.default.getFirstMatch(N,w)||C.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,w);return R&&(A.version=R),A}},{test:[/k-meleon/i],describe:function(w){var A={name:"K-Meleon"},R=C.default.getFirstMatch(N,w)||C.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,w);return R&&(A.version=R),A}},{test:[/micromessenger/i],describe:function(w){var A={name:"WeChat"},R=C.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,w)||C.default.getFirstMatch(N,w);return R&&(A.version=R),A}},{test:[/qqbrowser/i],describe:function(w){var A={name:/qqbrowserlite/i.test(w)?"QQ Browser Lite":"QQ Browser"},R=C.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,w)||C.default.getFirstMatch(N,w);return R&&(A.version=R),A}},{test:[/msie|trident/i],describe:function(w){var A={name:"Internet Explorer"},R=C.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,w);return R&&(A.version=R),A}},{test:[/\sedg\//i],describe:function(w){var A={name:"Microsoft Edge"},R=C.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,w);return R&&(A.version=R),A}},{test:[/edg([ea]|ios)/i],describe:function(w){var A={name:"Microsoft Edge"},R=C.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,w);return R&&(A.version=R),A}},{test:[/vivaldi/i],describe:function(w){var A={name:"Vivaldi"},R=C.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,w);return R&&(A.version=R),A}},{test:[/seamonkey/i],describe:function(w){var A={name:"SeaMonkey"},R=C.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,w);return R&&(A.version=R),A}},{test:[/sailfish/i],describe:function(w){var A={name:"Sailfish"},R=C.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,w);return R&&(A.version=R),A}},{test:[/silk/i],describe:function(w){var A={name:"Amazon Silk"},R=C.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,w);return R&&(A.version=R),A}},{test:[/phantom/i],describe:function(w){var A={name:"PhantomJS"},R=C.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,w);return R&&(A.version=R),A}},{test:[/slimerjs/i],describe:function(w){var A={name:"SlimerJS"},R=C.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,w);return R&&(A.version=R),A}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(w){var A={name:"BlackBerry"},R=C.default.getFirstMatch(N,w)||C.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,w);return R&&(A.version=R),A}},{test:[/(web|hpw)[o0]s/i],describe:function(w){var A={name:"WebOS Browser"},R=C.default.getFirstMatch(N,w)||C.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,w);return R&&(A.version=R),A}},{test:[/bada/i],describe:function(w){var A={name:"Bada"},R=C.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,w);return R&&(A.version=R),A}},{test:[/tizen/i],describe:function(w){var A={name:"Tizen"},R=C.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,w)||C.default.getFirstMatch(N,w);return R&&(A.version=R),A}},{test:[/qupzilla/i],describe:function(w){var A={name:"QupZilla"},R=C.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,w)||C.default.getFirstMatch(N,w);return R&&(A.version=R),A}},{test:[/firefox|iceweasel|fxios/i],describe:function(w){var A={name:"Firefox"},R=C.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,w);return R&&(A.version=R),A}},{test:[/electron/i],describe:function(w){var A={name:"Electron"},R=C.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,w);return R&&(A.version=R),A}},{test:[/MiuiBrowser/i],describe:function(w){var A={name:"Miui"},R=C.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,w);return R&&(A.version=R),A}},{test:[/chromium/i],describe:function(w){var A={name:"Chromium"},R=C.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,w)||C.default.getFirstMatch(N,w);return R&&(A.version=R),A}},{test:[/chrome|crios|crmo/i],describe:function(w){var A={name:"Chrome"},R=C.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,w);return R&&(A.version=R),A}},{test:[/GSA/i],describe:function(w){var A={name:"Google Search"},R=C.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,w);return R&&(A.version=R),A}},{test:function(w){var A=!w.test(/like android/i),R=w.test(/android/i);return A&&R},describe:function(w){var A={name:"Android Browser"},R=C.default.getFirstMatch(N,w);return R&&(A.version=R),A}},{test:[/playstation 4/i],describe:function(w){var A={name:"PlayStation 4"},R=C.default.getFirstMatch(N,w);return R&&(A.version=R),A}},{test:[/safari|applewebkit/i],describe:function(w){var A={name:"Safari"},R=C.default.getFirstMatch(N,w);return R&&(A.version=R),A}},{test:[/.*/i],describe:function(w){var A=w.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:C.default.getFirstMatch(A,w),version:C.default.getSecondMatch(A,w)}}}];S.default=W,y.exports=S.default},93:function(y,S,B){S.__esModule=!0,S.default=void 0;var g,C=(g=B(17))&&g.__esModule?g:{default:g},N=B(18),W=[{test:[/Roku\/DVP/],describe:function(w){var A=C.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,w);return{name:N.OS_MAP.Roku,version:A}}},{test:[/windows phone/i],describe:function(w){var A=C.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,w);return{name:N.OS_MAP.WindowsPhone,version:A}}},{test:[/windows /i],describe:function(w){var A=C.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,w),R=C.default.getWindowsVersionName(A);return{name:N.OS_MAP.Windows,version:A,versionName:R}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(w){var A={name:N.OS_MAP.iOS},R=C.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,w);return R&&(A.version=R),A}},{test:[/macintosh/i],describe:function(w){var A=C.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,w).replace(/[_\s]/g,"."),R=C.default.getMacOSVersionName(A),et={name:N.OS_MAP.MacOS,version:A};return R&&(et.versionName=R),et}},{test:[/(ipod|iphone|ipad)/i],describe:function(w){var A=C.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,w).replace(/[_\s]/g,".");return{name:N.OS_MAP.iOS,version:A}}},{test:function(w){var A=!w.test(/like android/i),R=w.test(/android/i);return A&&R},describe:function(w){var A=C.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,w),R=C.default.getAndroidVersionName(A),et={name:N.OS_MAP.Android,version:A};return R&&(et.versionName=R),et}},{test:[/(web|hpw)[o0]s/i],describe:function(w){var A=C.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,w),R={name:N.OS_MAP.WebOS};return A&&A.length&&(R.version=A),R}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(w){var A=C.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,w)||C.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,w)||C.default.getFirstMatch(/\bbb(\d+)/i,w);return{name:N.OS_MAP.BlackBerry,version:A}}},{test:[/bada/i],describe:function(w){var A=C.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,w);return{name:N.OS_MAP.Bada,version:A}}},{test:[/tizen/i],describe:function(w){var A=C.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,w);return{name:N.OS_MAP.Tizen,version:A}}},{test:[/linux/i],describe:function(){return{name:N.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:N.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(w){var A=C.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,w);return{name:N.OS_MAP.PlayStation4,version:A}}}];S.default=W,y.exports=S.default},94:function(y,S,B){S.__esModule=!0,S.default=void 0;var g,C=(g=B(17))&&g.__esModule?g:{default:g},N=B(18),W=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(w){var A=C.default.getFirstMatch(/(can-l01)/i,w)&&"Nova",R={type:N.PLATFORMS_MAP.mobile,vendor:"Huawei"};return A&&(R.model=A),R}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:N.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:N.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:N.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:N.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:N.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:N.PLATFORMS_MAP.tablet}}},{test:function(w){var A=w.test(/ipod|iphone/i),R=w.test(/like (ipod|iphone)/i);return A&&!R},describe:function(w){var A=C.default.getFirstMatch(/(ipod|iphone)/i,w);return{type:N.PLATFORMS_MAP.mobile,vendor:"Apple",model:A}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:N.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:N.PLATFORMS_MAP.mobile}}},{test:function(w){return w.getBrowserName(!0)==="blackberry"},describe:function(){return{type:N.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(w){return w.getBrowserName(!0)==="bada"},describe:function(){return{type:N.PLATFORMS_MAP.mobile}}},{test:function(w){return w.getBrowserName()==="windows phone"},describe:function(){return{type:N.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(w){var A=Number(String(w.getOSVersion()).split(".")[0]);return w.getOSName(!0)==="android"&&A>=3},describe:function(){return{type:N.PLATFORMS_MAP.tablet}}},{test:function(w){return w.getOSName(!0)==="android"},describe:function(){return{type:N.PLATFORMS_MAP.mobile}}},{test:function(w){return w.getOSName(!0)==="macos"},describe:function(){return{type:N.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(w){return w.getOSName(!0)==="windows"},describe:function(){return{type:N.PLATFORMS_MAP.desktop}}},{test:function(w){return w.getOSName(!0)==="linux"},describe:function(){return{type:N.PLATFORMS_MAP.desktop}}},{test:function(w){return w.getOSName(!0)==="playstation 4"},describe:function(){return{type:N.PLATFORMS_MAP.tv}}},{test:function(w){return w.getOSName(!0)==="roku"},describe:function(){return{type:N.PLATFORMS_MAP.tv}}}];S.default=W,y.exports=S.default},95:function(y,S,B){S.__esModule=!0,S.default=void 0;var g,C=(g=B(17))&&g.__esModule?g:{default:g},N=B(18),W=[{test:function(w){return w.getBrowserName(!0)==="microsoft edge"},describe:function(w){if(/\sedg\//i.test(w))return{name:N.ENGINE_MAP.Blink};var A=C.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,w);return{name:N.ENGINE_MAP.EdgeHTML,version:A}}},{test:[/trident/i],describe:function(w){var A={name:N.ENGINE_MAP.Trident},R=C.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,w);return R&&(A.version=R),A}},{test:function(w){return w.test(/presto/i)},describe:function(w){var A={name:N.ENGINE_MAP.Presto},R=C.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,w);return R&&(A.version=R),A}},{test:function(w){var A=w.test(/gecko/i),R=w.test(/like gecko/i);return A&&!R},describe:function(w){var A={name:N.ENGINE_MAP.Gecko},R=C.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,w);return R&&(A.version=R),A}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:N.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(w){var A={name:N.ENGINE_MAP.WebKit},R=C.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,w);return R&&(A.version=R),A}}];S.default=W,y.exports=S.default}})})})(br);var ca=br.exports,Oe={exports:{}},Ve;function la(){return Ve||(Ve=1,function(c,n){(function(y,S){c.exports=S()})(self,function(){return(()=>{var y={192:(g,C)=>{var N,W,w=function(){var A=function(o,s){var u=o,d=P[s],v=null,h=0,r=null,l=[],L={},j=function(_,M){v=function(x){for(var k=new Array(x),E=0;E<x;E+=1){k[E]=new Array(x);for(var $=0;$<x;$+=1)k[E][$]=null}return k}(h=4*u+17),I(0,0),I(h-7,0),I(0,h-7),e(),a(),p(_,M),u>=7&&f(_),r==null&&(r=b(u,d,l)),m(r,M)},I=function(_,M){for(var x=-1;x<=7;x+=1)if(!(_+x<=-1||h<=_+x))for(var k=-1;k<=7;k+=1)M+k<=-1||h<=M+k||(v[_+x][M+k]=0<=x&&x<=6&&(k==0||k==6)||0<=k&&k<=6&&(x==0||x==6)||2<=x&&x<=4&&2<=k&&k<=4)},a=function(){for(var _=8;_<h-8;_+=1)v[_][6]==null&&(v[_][6]=_%2==0);for(var M=8;M<h-8;M+=1)v[6][M]==null&&(v[6][M]=M%2==0)},e=function(){for(var _=F.getPatternPosition(u),M=0;M<_.length;M+=1)for(var x=0;x<_.length;x+=1){var k=_[M],E=_[x];if(v[k][E]==null)for(var $=-2;$<=2;$+=1)for(var z=-2;z<=2;z+=1)v[k+$][E+z]=$==-2||$==2||z==-2||z==2||$==0&&z==0}},f=function(_){for(var M=F.getBCHTypeNumber(u),x=0;x<18;x+=1){var k=!_&&(M>>x&1)==1;v[Math.floor(x/3)][x%3+h-8-3]=k}for(x=0;x<18;x+=1)k=!_&&(M>>x&1)==1,v[x%3+h-8-3][Math.floor(x/3)]=k},p=function(_,M){for(var x=d<<3|M,k=F.getBCHTypeInfo(x),E=0;E<15;E+=1){var $=!_&&(k>>E&1)==1;E<6?v[E][8]=$:E<8?v[E+1][8]=$:v[h-15+E][8]=$}for(E=0;E<15;E+=1)$=!_&&(k>>E&1)==1,E<8?v[8][h-E-1]=$:E<9?v[8][15-E-1+1]=$:v[8][15-E-1]=$;v[h-8][8]=!_},m=function(_,M){for(var x=-1,k=h-1,E=7,$=0,z=F.getMaskFunction(M),q=h-1;q>0;q-=2)for(q==6&&(q-=1);;){for(var Y=0;Y<2;Y+=1)if(v[k][q-Y]==null){var Q=!1;$<_.length&&(Q=(_[$]>>>E&1)==1),z(k,q-Y)&&(Q=!Q),v[k][q-Y]=Q,(E-=1)==-1&&($+=1,E=7)}if((k+=x)<0||h<=k){k-=x,x=-x;break}}},b=function(_,M,x){for(var k=nt.getRSBlocks(_,M),E=dt(),$=0;$<x.length;$+=1){var z=x[$];E.put(z.getMode(),4),E.put(z.getLength(),F.getLengthInBits(z.getMode(),_)),z.write(E)}var q=0;for($=0;$<k.length;$+=1)q+=k[$].dataCount;if(E.getLengthInBits()>8*q)throw"code length overflow. ("+E.getLengthInBits()+">"+8*q+")";for(E.getLengthInBits()+4<=8*q&&E.put(0,4);E.getLengthInBits()%8!=0;)E.putBit(!1);for(;!(E.getLengthInBits()>=8*q||(E.put(236,8),E.getLengthInBits()>=8*q));)E.put(17,8);return function(Y,Q){for(var J=0,ct=0,V=0,Z=new Array(Q.length),rt=new Array(Q.length),X=0;X<Q.length;X+=1){var ht=Q[X].dataCount,wt=Q[X].totalCount-ht;ct=Math.max(ct,ht),V=Math.max(V,wt),Z[X]=new Array(ht);for(var tt=0;tt<Z[X].length;tt+=1)Z[X][tt]=255&Y.getBuffer()[tt+J];J+=ht;var ot=F.getErrorCorrectPolynomial(wt),lt=U(Z[X],ot.getLength()-1).mod(ot);for(rt[X]=new Array(ot.getLength()-1),tt=0;tt<rt[X].length;tt+=1){var st=tt+lt.getLength()-rt[X].length;rt[X][tt]=st>=0?lt.getAt(st):0}}var at=0;for(tt=0;tt<Q.length;tt+=1)at+=Q[tt].totalCount;var St=new Array(at),ut=0;for(tt=0;tt<ct;tt+=1)for(X=0;X<Q.length;X+=1)tt<Z[X].length&&(St[ut]=Z[X][tt],ut+=1);for(tt=0;tt<V;tt+=1)for(X=0;X<Q.length;X+=1)tt<rt[X].length&&(St[ut]=rt[X][tt],ut+=1);return St}(E,k)};L.addData=function(_,M){var x=null;switch(M=M||"Byte"){case"Numeric":x=it(_);break;case"Alphanumeric":x=xt(_);break;case"Byte":x=ft(_);break;case"Kanji":x=Nt(_);break;default:throw"mode:"+M}l.push(x),r=null},L.isDark=function(_,M){if(_<0||h<=_||M<0||h<=M)throw _+","+M;return v[_][M]},L.getModuleCount=function(){return h},L.make=function(){if(u<1){for(var _=1;_<40;_++){for(var M=nt.getRSBlocks(_,d),x=dt(),k=0;k<l.length;k++){var E=l[k];x.put(E.getMode(),4),x.put(E.getLength(),F.getLengthInBits(E.getMode(),_)),E.write(x)}var $=0;for(k=0;k<M.length;k++)$+=M[k].dataCount;if(x.getLengthInBits()<=8*$)break}u=_}j(!1,function(){for(var z=0,q=0,Y=0;Y<8;Y+=1){j(!0,Y);var Q=F.getLostPoint(L);(Y==0||z>Q)&&(z=Q,q=Y)}return q}())},L.createTableTag=function(_,M){_=_||2;var x="";x+='<table style="',x+=" border-width: 0px; border-style: none;",x+=" border-collapse: collapse;",x+=" padding: 0px; margin: "+(M=M===void 0?4*_:M)+"px;",x+='">',x+="<tbody>";for(var k=0;k<L.getModuleCount();k+=1){x+="<tr>";for(var E=0;E<L.getModuleCount();E+=1)x+='<td style="',x+=" border-width: 0px; border-style: none;",x+=" border-collapse: collapse;",x+=" padding: 0px; margin: 0px;",x+=" width: "+_+"px;",x+=" height: "+_+"px;",x+=" background-color: ",x+=L.isDark(k,E)?"#000000":"#ffffff",x+=";",x+='"/>';x+="</tr>"}return(x+="</tbody>")+"</table>"},L.createSvgTag=function(_,M,x,k){var E={};typeof arguments[0]=="object"&&(_=(E=arguments[0]).cellSize,M=E.margin,x=E.alt,k=E.title),_=_||2,M=M===void 0?4*_:M,(x=typeof x=="string"?{text:x}:x||{}).text=x.text||null,x.id=x.text?x.id||"qrcode-description":null,(k=typeof k=="string"?{text:k}:k||{}).text=k.text||null,k.id=k.text?k.id||"qrcode-title":null;var $,z,q,Y,Q=L.getModuleCount()*_+2*M,J="";for(Y="l"+_+",0 0,"+_+" -"+_+",0 0,-"+_+"z ",J+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',J+=E.scalable?"":' width="'+Q+'px" height="'+Q+'px"',J+=' viewBox="0 0 '+Q+" "+Q+'" ',J+=' preserveAspectRatio="xMinYMin meet"',J+=k.text||x.text?' role="img" aria-labelledby="'+T([k.id,x.id].join(" ").trim())+'"':"",J+=">",J+=k.text?'<title id="'+T(k.id)+'">'+T(k.text)+"</title>":"",J+=x.text?'<description id="'+T(x.id)+'">'+T(x.text)+"</description>":"",J+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',J+='<path d="',z=0;z<L.getModuleCount();z+=1)for(q=z*_+M,$=0;$<L.getModuleCount();$+=1)L.isDark(z,$)&&(J+="M"+($*_+M)+","+q+Y);return(J+='" stroke="transparent" fill="black"/>')+"</svg>"},L.createDataURL=function(_,M){_=_||2,M=M===void 0?4*_:M;var x=L.getModuleCount()*_+2*M,k=M,E=x-M;return i(x,x,function($,z){if(k<=$&&$<E&&k<=z&&z<E){var q=Math.floor(($-k)/_),Y=Math.floor((z-k)/_);return L.isDark(Y,q)?0:1}return 1})},L.createImgTag=function(_,M,x){_=_||2,M=M===void 0?4*_:M;var k=L.getModuleCount()*_+2*M,E="";return E+="<img",E+=' src="',E+=L.createDataURL(_,M),E+='"',E+=' width="',E+=k,E+='"',E+=' height="',E+=k,E+='"',x&&(E+=' alt="',E+=T(x),E+='"'),E+"/>"};var T=function(_){for(var M="",x=0;x<_.length;x+=1){var k=_.charAt(x);switch(k){case"<":M+="&lt;";break;case">":M+="&gt;";break;case"&":M+="&amp;";break;case'"':M+="&quot;";break;default:M+=k}}return M};return L.createASCII=function(_,M){if((_=_||1)<2)return function(Z){Z=Z===void 0?2:Z;var rt,X,ht,wt,tt,ot=1*L.getModuleCount()+2*Z,lt=Z,st=ot-Z,at={"██":"█","█ ":"▀"," █":"▄","  ":" "},St={"██":"▀","█ ":"▀"," █":" ","  ":" "},ut="";for(rt=0;rt<ot;rt+=2){for(ht=Math.floor((rt-lt)/1),wt=Math.floor((rt+1-lt)/1),X=0;X<ot;X+=1)tt="█",lt<=X&&X<st&&lt<=rt&&rt<st&&L.isDark(ht,Math.floor((X-lt)/1))&&(tt=" "),lt<=X&&X<st&&lt<=rt+1&&rt+1<st&&L.isDark(wt,Math.floor((X-lt)/1))?tt+=" ":tt+="█",ut+=Z<1&&rt+1>=st?St[tt]:at[tt];ut+=`
`}return ot%2&&Z>0?ut.substring(0,ut.length-ot-1)+Array(ot+1).join("▀"):ut.substring(0,ut.length-1)}(M);_-=1,M=M===void 0?2*_:M;var x,k,E,$,z=L.getModuleCount()*_+2*M,q=M,Y=z-M,Q=Array(_+1).join("██"),J=Array(_+1).join("  "),ct="",V="";for(x=0;x<z;x+=1){for(E=Math.floor((x-q)/_),V="",k=0;k<z;k+=1)$=1,q<=k&&k<Y&&q<=x&&x<Y&&L.isDark(E,Math.floor((k-q)/_))&&($=0),V+=$?Q:J;for(E=0;E<_;E+=1)ct+=V+`
`}return ct.substring(0,ct.length-1)},L.renderTo2dContext=function(_,M){M=M||2;for(var x=L.getModuleCount(),k=0;k<x;k++)for(var E=0;E<x;E++)_.fillStyle=L.isDark(k,E)?"black":"white",_.fillRect(k*M,E*M,M,M)},L};A.stringToBytes=(A.stringToBytesFuncs={default:function(o){for(var s=[],u=0;u<o.length;u+=1){var d=o.charCodeAt(u);s.push(255&d)}return s}}).default,A.createStringToBytes=function(o,s){var u=function(){for(var v=t(o),h=function(){var a=v.read();if(a==-1)throw"eof";return a},r=0,l={};;){var L=v.read();if(L==-1)break;var j=h(),I=h()<<8|h();l[String.fromCharCode(L<<8|j)]=I,r+=1}if(r!=s)throw r+" != "+s;return l}(),d=63;return function(v){for(var h=[],r=0;r<v.length;r+=1){var l=v.charCodeAt(r);if(l<128)h.push(l);else{var L=u[v.charAt(r)];typeof L=="number"?(255&L)==L?h.push(L):(h.push(L>>>8),h.push(255&L)):h.push(d)}}return h}};var R,et,H,D,G,P={L:1,M:0,Q:3,H:2},F=(R=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],et=1335,H=7973,G=function(o){for(var s=0;o!=0;)s+=1,o>>>=1;return s},(D={}).getBCHTypeInfo=function(o){for(var s=o<<10;G(s)-G(et)>=0;)s^=et<<G(s)-G(et);return 21522^(o<<10|s)},D.getBCHTypeNumber=function(o){for(var s=o<<12;G(s)-G(H)>=0;)s^=H<<G(s)-G(H);return o<<12|s},D.getPatternPosition=function(o){return R[o-1]},D.getMaskFunction=function(o){switch(o){case 0:return function(s,u){return(s+u)%2==0};case 1:return function(s,u){return s%2==0};case 2:return function(s,u){return u%3==0};case 3:return function(s,u){return(s+u)%3==0};case 4:return function(s,u){return(Math.floor(s/2)+Math.floor(u/3))%2==0};case 5:return function(s,u){return s*u%2+s*u%3==0};case 6:return function(s,u){return(s*u%2+s*u%3)%2==0};case 7:return function(s,u){return(s*u%3+(s+u)%2)%2==0};default:throw"bad maskPattern:"+o}},D.getErrorCorrectPolynomial=function(o){for(var s=U([1],0),u=0;u<o;u+=1)s=s.multiply(U([1,K.gexp(u)],0));return s},D.getLengthInBits=function(o,s){if(1<=s&&s<10)switch(o){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+o}else if(s<27)switch(o){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+o}else{if(!(s<41))throw"type:"+s;switch(o){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+o}}},D.getLostPoint=function(o){for(var s=o.getModuleCount(),u=0,d=0;d<s;d+=1)for(var v=0;v<s;v+=1){for(var h=0,r=o.isDark(d,v),l=-1;l<=1;l+=1)if(!(d+l<0||s<=d+l))for(var L=-1;L<=1;L+=1)v+L<0||s<=v+L||l==0&&L==0||r==o.isDark(d+l,v+L)&&(h+=1);h>5&&(u+=3+h-5)}for(d=0;d<s-1;d+=1)for(v=0;v<s-1;v+=1){var j=0;o.isDark(d,v)&&(j+=1),o.isDark(d+1,v)&&(j+=1),o.isDark(d,v+1)&&(j+=1),o.isDark(d+1,v+1)&&(j+=1),j!=0&&j!=4||(u+=3)}for(d=0;d<s;d+=1)for(v=0;v<s-6;v+=1)o.isDark(d,v)&&!o.isDark(d,v+1)&&o.isDark(d,v+2)&&o.isDark(d,v+3)&&o.isDark(d,v+4)&&!o.isDark(d,v+5)&&o.isDark(d,v+6)&&(u+=40);for(v=0;v<s;v+=1)for(d=0;d<s-6;d+=1)o.isDark(d,v)&&!o.isDark(d+1,v)&&o.isDark(d+2,v)&&o.isDark(d+3,v)&&o.isDark(d+4,v)&&!o.isDark(d+5,v)&&o.isDark(d+6,v)&&(u+=40);var I=0;for(v=0;v<s;v+=1)for(d=0;d<s;d+=1)o.isDark(d,v)&&(I+=1);return u+Math.abs(100*I/s/s-50)/5*10},D),K=function(){for(var o=new Array(256),s=new Array(256),u=0;u<8;u+=1)o[u]=1<<u;for(u=8;u<256;u+=1)o[u]=o[u-4]^o[u-5]^o[u-6]^o[u-8];for(u=0;u<255;u+=1)s[o[u]]=u;return{glog:function(d){if(d<1)throw"glog("+d+")";return s[d]},gexp:function(d){for(;d<0;)d+=255;for(;d>=256;)d-=255;return o[d]}}}();function U(o,s){if(o.length===void 0)throw o.length+"/"+s;var u=function(){for(var v=0;v<o.length&&o[v]==0;)v+=1;for(var h=new Array(o.length-v+s),r=0;r<o.length-v;r+=1)h[r]=o[r+v];return h}(),d={getAt:function(v){return u[v]},getLength:function(){return u.length},multiply:function(v){for(var h=new Array(d.getLength()+v.getLength()-1),r=0;r<d.getLength();r+=1)for(var l=0;l<v.getLength();l+=1)h[r+l]^=K.gexp(K.glog(d.getAt(r))+K.glog(v.getAt(l)));return U(h,0)},mod:function(v){if(d.getLength()-v.getLength()<0)return d;for(var h=K.glog(d.getAt(0))-K.glog(v.getAt(0)),r=new Array(d.getLength()),l=0;l<d.getLength();l+=1)r[l]=d.getAt(l);for(l=0;l<v.getLength();l+=1)r[l]^=K.gexp(K.glog(v.getAt(l))+h);return U(r,0).mod(v)}};return d}var nt=function(){var o=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],s=function(d,v){var h={};return h.totalCount=d,h.dataCount=v,h},u={getRSBlocks:function(d,v){var h=function(f,p){switch(p){case P.L:return o[4*(f-1)+0];case P.M:return o[4*(f-1)+1];case P.Q:return o[4*(f-1)+2];case P.H:return o[4*(f-1)+3];default:return}}(d,v);if(h===void 0)throw"bad rs block @ typeNumber:"+d+"/errorCorrectionLevel:"+v;for(var r=h.length/3,l=[],L=0;L<r;L+=1)for(var j=h[3*L+0],I=h[3*L+1],a=h[3*L+2],e=0;e<j;e+=1)l.push(s(I,a));return l}};return u}(),dt=function(){var o=[],s=0,u={getBuffer:function(){return o},getAt:function(d){var v=Math.floor(d/8);return(o[v]>>>7-d%8&1)==1},put:function(d,v){for(var h=0;h<v;h+=1)u.putBit((d>>>v-h-1&1)==1)},getLengthInBits:function(){return s},putBit:function(d){var v=Math.floor(s/8);o.length<=v&&o.push(0),d&&(o[v]|=128>>>s%8),s+=1}};return u},it=function(o){var s=o,u={getMode:function(){return 1},getLength:function(h){return s.length},write:function(h){for(var r=s,l=0;l+2<r.length;)h.put(d(r.substring(l,l+3)),10),l+=3;l<r.length&&(r.length-l==1?h.put(d(r.substring(l,l+1)),4):r.length-l==2&&h.put(d(r.substring(l,l+2)),7))}},d=function(h){for(var r=0,l=0;l<h.length;l+=1)r=10*r+v(h.charAt(l));return r},v=function(h){if("0"<=h&&h<="9")return h.charCodeAt(0)-48;throw"illegal char :"+h};return u},xt=function(o){var s=o,u={getMode:function(){return 2},getLength:function(v){return s.length},write:function(v){for(var h=s,r=0;r+1<h.length;)v.put(45*d(h.charAt(r))+d(h.charAt(r+1)),11),r+=2;r<h.length&&v.put(d(h.charAt(r)),6)}},d=function(v){if("0"<=v&&v<="9")return v.charCodeAt(0)-48;if("A"<=v&&v<="Z")return v.charCodeAt(0)-65+10;switch(v){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+v}};return u},ft=function(o){var s=A.stringToBytes(o);return{getMode:function(){return 4},getLength:function(u){return s.length},write:function(u){for(var d=0;d<s.length;d+=1)u.put(s[d],8)}}},Nt=function(o){var s=A.stringToBytesFuncs.SJIS;if(!s)throw"sjis not supported.";(function(d,v){var h=s("友");if(h.length!=2||(h[0]<<8|h[1])!=38726)throw"sjis not supported."})();var u=s(o);return{getMode:function(){return 8},getLength:function(d){return~~(u.length/2)},write:function(d){for(var v=u,h=0;h+1<v.length;){var r=(255&v[h])<<8|255&v[h+1];if(33088<=r&&r<=40956)r-=33088;else{if(!(57408<=r&&r<=60351))throw"illegal char at "+(h+1)+"/"+r;r-=49472}r=192*(r>>>8&255)+(255&r),d.put(r,13),h+=2}if(h<v.length)throw"illegal char at "+(h+1)}}},O=function(){var o=[],s={writeByte:function(u){o.push(255&u)},writeShort:function(u){s.writeByte(u),s.writeByte(u>>>8)},writeBytes:function(u,d,v){d=d||0,v=v||u.length;for(var h=0;h<v;h+=1)s.writeByte(u[h+d])},writeString:function(u){for(var d=0;d<u.length;d+=1)s.writeByte(u.charCodeAt(d))},toByteArray:function(){return o},toString:function(){var u="";u+="[";for(var d=0;d<o.length;d+=1)d>0&&(u+=","),u+=o[d];return u+"]"}};return s},t=function(o){var s=o,u=0,d=0,v=0,h={read:function(){for(;v<8;){if(u>=s.length){if(v==0)return-1;throw"unexpected end of file./"+v}var l=s.charAt(u);if(u+=1,l=="=")return v=0,-1;l.match(/^\s$/)||(d=d<<6|r(l.charCodeAt(0)),v+=6)}var L=d>>>v-8&255;return v-=8,L}},r=function(l){if(65<=l&&l<=90)return l-65;if(97<=l&&l<=122)return l-97+26;if(48<=l&&l<=57)return l-48+52;if(l==43)return 62;if(l==47)return 63;throw"c:"+l};return h},i=function(o,s,u){for(var d=function(I,a){var e=I,f=a,p=new Array(I*a),m={setPixel:function(_,M,x){p[M*e+_]=x},write:function(_){_.writeString("GIF87a"),_.writeShort(e),_.writeShort(f),_.writeByte(128),_.writeByte(0),_.writeByte(0),_.writeByte(0),_.writeByte(0),_.writeByte(0),_.writeByte(255),_.writeByte(255),_.writeByte(255),_.writeString(","),_.writeShort(0),_.writeShort(0),_.writeShort(e),_.writeShort(f),_.writeByte(0);var M=b(2);_.writeByte(2);for(var x=0;M.length-x>255;)_.writeByte(255),_.writeBytes(M,x,255),x+=255;_.writeByte(M.length-x),_.writeBytes(M,x,M.length-x),_.writeByte(0),_.writeString(";")}},b=function(_){for(var M=1<<_,x=1+(1<<_),k=_+1,E=T(),$=0;$<M;$+=1)E.add(String.fromCharCode($));E.add(String.fromCharCode(M)),E.add(String.fromCharCode(x));var z,q,Y,Q=O(),J=(z=Q,q=0,Y=0,{write:function(rt,X){if(rt>>>X)throw"length over";for(;q+X>=8;)z.writeByte(255&(rt<<q|Y)),X-=8-q,rt>>>=8-q,Y=0,q=0;Y|=rt<<q,q+=X},flush:function(){q>0&&z.writeByte(Y)}});J.write(M,k);var ct=0,V=String.fromCharCode(p[ct]);for(ct+=1;ct<p.length;){var Z=String.fromCharCode(p[ct]);ct+=1,E.contains(V+Z)?V+=Z:(J.write(E.indexOf(V),k),E.size()<4095&&(E.size()==1<<k&&(k+=1),E.add(V+Z)),V=Z)}return J.write(E.indexOf(V),k),J.write(x,k),J.flush(),Q.toByteArray()},T=function(){var _={},M=0,x={add:function(k){if(x.contains(k))throw"dup key:"+k;_[k]=M,M+=1},size:function(){return M},indexOf:function(k){return _[k]},contains:function(k){return _[k]!==void 0}};return x};return m}(o,s),v=0;v<s;v+=1)for(var h=0;h<o;h+=1)d.setPixel(h,v,u(h,v));var r=O();d.write(r);for(var l=function(){var I=0,a=0,e=0,f="",p={},m=function(T){f+=String.fromCharCode(b(63&T))},b=function(T){if(!(T<0)){if(T<26)return 65+T;if(T<52)return T-26+97;if(T<62)return T-52+48;if(T==62)return 43;if(T==63)return 47}throw"n:"+T};return p.writeByte=function(T){for(I=I<<8|255&T,a+=8,e+=1;a>=6;)m(I>>>a-6),a-=6},p.flush=function(){if(a>0&&(m(I<<6-a),I=0,a=0),e%3!=0)for(var T=3-e%3,_=0;_<T;_+=1)f+="="},p.toString=function(){return f},p}(),L=r.toByteArray(),j=0;j<L.length;j+=1)l.writeByte(L[j]);return l.flush(),"data:image/gif;base64,"+l};return A}();w.stringToBytesFuncs["UTF-8"]=function(A){return function(R){for(var et=[],H=0;H<R.length;H++){var D=R.charCodeAt(H);D<128?et.push(D):D<2048?et.push(192|D>>6,128|63&D):D<55296||D>=57344?et.push(224|D>>12,128|D>>6&63,128|63&D):(H++,D=65536+((1023&D)<<10|1023&R.charCodeAt(H)),et.push(240|D>>18,128|D>>12&63,128|D>>6&63,128|63&D))}return et}(A)},(W=typeof(N=function(){return w})=="function"?N.apply(C,[]):N)===void 0||(g.exports=W)},676:(g,C,N)=>{N.d(C,{default:()=>j});var W=function(){return(W=Object.assign||function(I){for(var a,e=1,f=arguments.length;e<f;e++)for(var p in a=arguments[e])Object.prototype.hasOwnProperty.call(a,p)&&(I[p]=a[p]);return I}).apply(this,arguments)},w=function(){for(var I=0,a=0,e=arguments.length;a<e;a++)I+=arguments[a].length;var f=Array(I),p=0;for(a=0;a<e;a++)for(var m=arguments[a],b=0,T=m.length;b<T;b++,p++)f[p]=m[b];return f},A=function(I){return!!I&&typeof I=="object"&&!Array.isArray(I)};function R(I){for(var a=[],e=1;e<arguments.length;e++)a[e-1]=arguments[e];if(!a.length)return I;var f=a.shift();return f!==void 0&&A(I)&&A(f)?(I=W({},I),Object.keys(f).forEach(function(p){var m=I[p],b=f[p];Array.isArray(m)&&Array.isArray(b)?I[p]=b:A(m)&&A(b)?I[p]=R(Object.assign({},m),b):I[p]=b}),R.apply(void 0,w([I],a))):I}function et(I,a){var e=document.createElement("a");e.download=a,e.href=I,document.body.appendChild(e),e.click(),document.body.removeChild(e)}function H(I){return a=this,e=void 0,p=function(){return function(m,b){var T,_,M,x,k={label:0,sent:function(){if(1&M[0])throw M[1];return M[1]},trys:[],ops:[]};return x={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function E($){return function(z){return function(q){if(T)throw new TypeError("Generator is already executing.");for(;k;)try{if(T=1,_&&(M=2&q[0]?_.return:q[0]?_.throw||((M=_.return)&&M.call(_),0):_.next)&&!(M=M.call(_,q[1])).done)return M;switch(_=0,M&&(q=[2&q[0],M.value]),q[0]){case 0:case 1:M=q;break;case 4:return k.label++,{value:q[1],done:!1};case 5:k.label++,_=q[1],q=[0];continue;case 7:q=k.ops.pop(),k.trys.pop();continue;default:if(!((M=(M=k.trys).length>0&&M[M.length-1])||q[0]!==6&&q[0]!==2)){k=0;continue}if(q[0]===3&&(!M||q[1]>M[0]&&q[1]<M[3])){k.label=q[1];break}if(q[0]===6&&k.label<M[1]){k.label=M[1],M=q;break}if(M&&k.label<M[2]){k.label=M[2],k.ops.push(q);break}M[2]&&k.ops.pop(),k.trys.pop();continue}q=b.call(m,k)}catch(Y){q=[6,Y],_=0}finally{T=M=0}if(5&q[0])throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}([$,z])}}}(this,function(m){return[2,new Promise(function(b){var T=new XMLHttpRequest;T.onload=function(){var _=new FileReader;_.onloadend=function(){b(_.result)},_.readAsDataURL(T.response)},T.open("GET",I),T.responseType="blob",T.send()})]})},new((f=void 0)||(f=Promise))(function(m,b){function T(x){try{M(p.next(x))}catch(k){b(k)}}function _(x){try{M(p.throw(x))}catch(k){b(k)}}function M(x){var k;x.done?m(x.value):(k=x.value,k instanceof f?k:new f(function(E){E(k)})).then(T,_)}M((p=p.apply(a,e||[])).next())});var a,e,f,p}const D={L:.07,M:.15,Q:.25,H:.3};var G=function(){return(G=Object.assign||function(I){for(var a,e=1,f=arguments.length;e<f;e++)for(var p in a=arguments[e])Object.prototype.hasOwnProperty.call(a,p)&&(I[p]=a[p]);return I}).apply(this,arguments)};const P=function(){function I(a){var e=a.svg,f=a.type;this._svg=e,this._type=f}return I.prototype.draw=function(a,e,f,p){var m;switch(this._type){case"dots":m=this._drawDot;break;case"classy":m=this._drawClassy;break;case"classy-rounded":m=this._drawClassyRounded;break;case"rounded":m=this._drawRounded;break;case"extra-rounded":m=this._drawExtraRounded;break;case"square":default:m=this._drawSquare}m.call(this,{x:a,y:e,size:f,getNeighbor:p})},I.prototype._rotateFigure=function(a){var e,f=a.x,p=a.y,m=a.size,b=a.rotation,T=b===void 0?0:b,_=f+m/2,M=p+m/2;(0,a.draw)(),(e=this._element)===null||e===void 0||e.setAttribute("transform","rotate("+180*T/Math.PI+","+_+","+M+")")},I.prototype._basicDot=function(a){var e=this,f=a.size,p=a.x,m=a.y;this._rotateFigure(G(G({},a),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),e._element.setAttribute("cx",String(p+f/2)),e._element.setAttribute("cy",String(m+f/2)),e._element.setAttribute("r",String(f/2))}}))},I.prototype._basicSquare=function(a){var e=this,f=a.size,p=a.x,m=a.y;this._rotateFigure(G(G({},a),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),e._element.setAttribute("x",String(p)),e._element.setAttribute("y",String(m)),e._element.setAttribute("width",String(f)),e._element.setAttribute("height",String(f))}}))},I.prototype._basicSideRounded=function(a){var e=this,f=a.size,p=a.x,m=a.y;this._rotateFigure(G(G({},a),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("d","M "+p+" "+m+"v "+f+"h "+f/2+"a "+f/2+" "+f/2+", 0, 0, 0, 0 "+-f)}}))},I.prototype._basicCornerRounded=function(a){var e=this,f=a.size,p=a.x,m=a.y;this._rotateFigure(G(G({},a),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("d","M "+p+" "+m+"v "+f+"h "+f+"v "+-f/2+"a "+f/2+" "+f/2+", 0, 0, 0, "+-f/2+" "+-f/2)}}))},I.prototype._basicCornerExtraRounded=function(a){var e=this,f=a.size,p=a.x,m=a.y;this._rotateFigure(G(G({},a),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("d","M "+p+" "+m+"v "+f+"h "+f+"a "+f+" "+f+", 0, 0, 0, "+-f+" "+-f)}}))},I.prototype._basicCornersRounded=function(a){var e=this,f=a.size,p=a.x,m=a.y;this._rotateFigure(G(G({},a),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("d","M "+p+" "+m+"v "+f/2+"a "+f/2+" "+f/2+", 0, 0, 0, "+f/2+" "+f/2+"h "+f/2+"v "+-f/2+"a "+f/2+" "+f/2+", 0, 0, 0, "+-f/2+" "+-f/2)}}))},I.prototype._drawDot=function(a){var e=a.x,f=a.y,p=a.size;this._basicDot({x:e,y:f,size:p,rotation:0})},I.prototype._drawSquare=function(a){var e=a.x,f=a.y,p=a.size;this._basicSquare({x:e,y:f,size:p,rotation:0})},I.prototype._drawRounded=function(a){var e=a.x,f=a.y,p=a.size,m=a.getNeighbor,b=m?+m(-1,0):0,T=m?+m(1,0):0,_=m?+m(0,-1):0,M=m?+m(0,1):0,x=b+T+_+M;if(x!==0)if(x>2||b&&T||_&&M)this._basicSquare({x:e,y:f,size:p,rotation:0});else{if(x===2){var k=0;return b&&_?k=Math.PI/2:_&&T?k=Math.PI:T&&M&&(k=-Math.PI/2),void this._basicCornerRounded({x:e,y:f,size:p,rotation:k})}if(x===1)return k=0,_?k=Math.PI/2:T?k=Math.PI:M&&(k=-Math.PI/2),void this._basicSideRounded({x:e,y:f,size:p,rotation:k})}else this._basicDot({x:e,y:f,size:p,rotation:0})},I.prototype._drawExtraRounded=function(a){var e=a.x,f=a.y,p=a.size,m=a.getNeighbor,b=m?+m(-1,0):0,T=m?+m(1,0):0,_=m?+m(0,-1):0,M=m?+m(0,1):0,x=b+T+_+M;if(x!==0)if(x>2||b&&T||_&&M)this._basicSquare({x:e,y:f,size:p,rotation:0});else{if(x===2){var k=0;return b&&_?k=Math.PI/2:_&&T?k=Math.PI:T&&M&&(k=-Math.PI/2),void this._basicCornerExtraRounded({x:e,y:f,size:p,rotation:k})}if(x===1)return k=0,_?k=Math.PI/2:T?k=Math.PI:M&&(k=-Math.PI/2),void this._basicSideRounded({x:e,y:f,size:p,rotation:k})}else this._basicDot({x:e,y:f,size:p,rotation:0})},I.prototype._drawClassy=function(a){var e=a.x,f=a.y,p=a.size,m=a.getNeighbor,b=m?+m(-1,0):0,T=m?+m(1,0):0,_=m?+m(0,-1):0,M=m?+m(0,1):0;b+T+_+M!==0?b||_?T||M?this._basicSquare({x:e,y:f,size:p,rotation:0}):this._basicCornerRounded({x:e,y:f,size:p,rotation:Math.PI/2}):this._basicCornerRounded({x:e,y:f,size:p,rotation:-Math.PI/2}):this._basicCornersRounded({x:e,y:f,size:p,rotation:Math.PI/2})},I.prototype._drawClassyRounded=function(a){var e=a.x,f=a.y,p=a.size,m=a.getNeighbor,b=m?+m(-1,0):0,T=m?+m(1,0):0,_=m?+m(0,-1):0,M=m?+m(0,1):0;b+T+_+M!==0?b||_?T||M?this._basicSquare({x:e,y:f,size:p,rotation:0}):this._basicCornerExtraRounded({x:e,y:f,size:p,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:e,y:f,size:p,rotation:-Math.PI/2}):this._basicCornersRounded({x:e,y:f,size:p,rotation:Math.PI/2})},I}();var F=function(){return(F=Object.assign||function(I){for(var a,e=1,f=arguments.length;e<f;e++)for(var p in a=arguments[e])Object.prototype.hasOwnProperty.call(a,p)&&(I[p]=a[p]);return I}).apply(this,arguments)};const K=function(){function I(a){var e=a.svg,f=a.type;this._svg=e,this._type=f}return I.prototype.draw=function(a,e,f,p){var m;switch(this._type){case"square":m=this._drawSquare;break;case"extra-rounded":m=this._drawExtraRounded;break;case"dot":default:m=this._drawDot}m.call(this,{x:a,y:e,size:f,rotation:p})},I.prototype._rotateFigure=function(a){var e,f=a.x,p=a.y,m=a.size,b=a.rotation,T=b===void 0?0:b,_=f+m/2,M=p+m/2;(0,a.draw)(),(e=this._element)===null||e===void 0||e.setAttribute("transform","rotate("+180*T/Math.PI+","+_+","+M+")")},I.prototype._basicDot=function(a){var e=this,f=a.size,p=a.x,m=a.y,b=f/7;this._rotateFigure(F(F({},a),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("clip-rule","evenodd"),e._element.setAttribute("d","M "+(p+f/2)+" "+m+"a "+f/2+" "+f/2+" 0 1 0 0.1 0zm 0 "+b+"a "+(f/2-b)+" "+(f/2-b)+" 0 1 1 -0.1 0Z")}}))},I.prototype._basicSquare=function(a){var e=this,f=a.size,p=a.x,m=a.y,b=f/7;this._rotateFigure(F(F({},a),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("clip-rule","evenodd"),e._element.setAttribute("d","M "+p+" "+m+"v "+f+"h "+f+"v "+-f+"zM "+(p+b)+" "+(m+b)+"h "+(f-2*b)+"v "+(f-2*b)+"h "+(2*b-f)+"z")}}))},I.prototype._basicExtraRounded=function(a){var e=this,f=a.size,p=a.x,m=a.y,b=f/7;this._rotateFigure(F(F({},a),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","path"),e._element.setAttribute("clip-rule","evenodd"),e._element.setAttribute("d","M "+p+" "+(m+2.5*b)+"v "+2*b+"a "+2.5*b+" "+2.5*b+", 0, 0, 0, "+2.5*b+" "+2.5*b+"h "+2*b+"a "+2.5*b+" "+2.5*b+", 0, 0, 0, "+2.5*b+" "+2.5*-b+"v "+-2*b+"a "+2.5*b+" "+2.5*b+", 0, 0, 0, "+2.5*-b+" "+2.5*-b+"h "+-2*b+"a "+2.5*b+" "+2.5*b+", 0, 0, 0, "+2.5*-b+" "+2.5*b+"M "+(p+2.5*b)+" "+(m+b)+"h "+2*b+"a "+1.5*b+" "+1.5*b+", 0, 0, 1, "+1.5*b+" "+1.5*b+"v "+2*b+"a "+1.5*b+" "+1.5*b+", 0, 0, 1, "+1.5*-b+" "+1.5*b+"h "+-2*b+"a "+1.5*b+" "+1.5*b+", 0, 0, 1, "+1.5*-b+" "+1.5*-b+"v "+-2*b+"a "+1.5*b+" "+1.5*b+", 0, 0, 1, "+1.5*b+" "+1.5*-b)}}))},I.prototype._drawDot=function(a){var e=a.x,f=a.y,p=a.size,m=a.rotation;this._basicDot({x:e,y:f,size:p,rotation:m})},I.prototype._drawSquare=function(a){var e=a.x,f=a.y,p=a.size,m=a.rotation;this._basicSquare({x:e,y:f,size:p,rotation:m})},I.prototype._drawExtraRounded=function(a){var e=a.x,f=a.y,p=a.size,m=a.rotation;this._basicExtraRounded({x:e,y:f,size:p,rotation:m})},I}();var U=function(){return(U=Object.assign||function(I){for(var a,e=1,f=arguments.length;e<f;e++)for(var p in a=arguments[e])Object.prototype.hasOwnProperty.call(a,p)&&(I[p]=a[p]);return I}).apply(this,arguments)};const nt=function(){function I(a){var e=a.svg,f=a.type;this._svg=e,this._type=f}return I.prototype.draw=function(a,e,f,p){var m;switch(this._type){case"square":m=this._drawSquare;break;case"dot":default:m=this._drawDot}m.call(this,{x:a,y:e,size:f,rotation:p})},I.prototype._rotateFigure=function(a){var e,f=a.x,p=a.y,m=a.size,b=a.rotation,T=b===void 0?0:b,_=f+m/2,M=p+m/2;(0,a.draw)(),(e=this._element)===null||e===void 0||e.setAttribute("transform","rotate("+180*T/Math.PI+","+_+","+M+")")},I.prototype._basicDot=function(a){var e=this,f=a.size,p=a.x,m=a.y;this._rotateFigure(U(U({},a),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),e._element.setAttribute("cx",String(p+f/2)),e._element.setAttribute("cy",String(m+f/2)),e._element.setAttribute("r",String(f/2))}}))},I.prototype._basicSquare=function(a){var e=this,f=a.size,p=a.x,m=a.y;this._rotateFigure(U(U({},a),{draw:function(){e._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),e._element.setAttribute("x",String(p)),e._element.setAttribute("y",String(m)),e._element.setAttribute("width",String(f)),e._element.setAttribute("height",String(f))}}))},I.prototype._drawDot=function(a){var e=a.x,f=a.y,p=a.size,m=a.rotation;this._basicDot({x:e,y:f,size:p,rotation:m})},I.prototype._drawSquare=function(a){var e=a.x,f=a.y,p=a.size,m=a.rotation;this._basicSquare({x:e,y:f,size:p,rotation:m})},I}(),dt="circle";var it=function(I,a,e,f){return new(e||(e=Promise))(function(p,m){function b(M){try{_(f.next(M))}catch(x){m(x)}}function T(M){try{_(f.throw(M))}catch(x){m(x)}}function _(M){var x;M.done?p(M.value):(x=M.value,x instanceof e?x:new e(function(k){k(x)})).then(b,T)}_((f=f.apply(I,[])).next())})},xt=function(I,a){var e,f,p,m,b={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return m={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function T(_){return function(M){return function(x){if(e)throw new TypeError("Generator is already executing.");for(;b;)try{if(e=1,f&&(p=2&x[0]?f.return:x[0]?f.throw||((p=f.return)&&p.call(f),0):f.next)&&!(p=p.call(f,x[1])).done)return p;switch(f=0,p&&(x=[2&x[0],p.value]),x[0]){case 0:case 1:p=x;break;case 4:return b.label++,{value:x[1],done:!1};case 5:b.label++,f=x[1],x=[0];continue;case 7:x=b.ops.pop(),b.trys.pop();continue;default:if(!((p=(p=b.trys).length>0&&p[p.length-1])||x[0]!==6&&x[0]!==2)){b=0;continue}if(x[0]===3&&(!p||x[1]>p[0]&&x[1]<p[3])){b.label=x[1];break}if(x[0]===6&&b.label<p[1]){b.label=p[1],p=x;break}if(p&&b.label<p[2]){b.label=p[2],b.ops.push(x);break}p[2]&&b.ops.pop(),b.trys.pop();continue}x=a.call(I,b)}catch(k){x=[6,k],f=0}finally{e=p=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([_,M])}}},ft=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],Nt=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];const O=function(){function I(a){this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(a.width)),this._element.setAttribute("height",String(a.height)),this._defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs),this._options=a}return Object.defineProperty(I.prototype,"width",{get:function(){return this._options.width},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"height",{get:function(){return this._options.height},enumerable:!1,configurable:!0}),I.prototype.getElement=function(){return this._element},I.prototype.drawQR=function(a){return it(this,void 0,void 0,function(){var e,f,p,m,b,T,_,M,x,k,E=this;return xt(this,function($){switch($.label){case 0:return e=a.getModuleCount(),f=Math.min(this._options.width,this._options.height)-2*this._options.margin,p=this._options.shape===dt?f/Math.sqrt(2):f,m=Math.floor(p/e),b={hideXDots:0,hideYDots:0,width:0,height:0},this._qr=a,this._options.image?[4,this.loadImage()]:[3,2];case 1:if($.sent(),!this._image)return[2];T=this._options,_=T.imageOptions,M=T.qrOptions,x=_.imageSize*D[M.errorCorrectionLevel],k=Math.floor(x*e*e),b=function(z){var q=z.originalHeight,Y=z.originalWidth,Q=z.maxHiddenDots,J=z.maxHiddenAxisDots,ct=z.dotSize,V={x:0,y:0},Z={x:0,y:0};if(q<=0||Y<=0||Q<=0||ct<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};var rt=q/Y;return V.x=Math.floor(Math.sqrt(Q/rt)),V.x<=0&&(V.x=1),J&&J<V.x&&(V.x=J),V.x%2==0&&V.x--,Z.x=V.x*ct,V.y=1+2*Math.ceil((V.x*rt-1)/2),Z.y=Math.round(Z.x*rt),(V.y*V.x>Q||J&&J<V.y)&&(J&&J<V.y?(V.y=J,V.y%2==0&&V.x--):V.y-=2,Z.y=V.y*ct,V.x=1+2*Math.ceil((V.y/rt-1)/2),Z.x=Math.round(Z.y/rt)),{height:Z.y,width:Z.x,hideYDots:V.y,hideXDots:V.x}}({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:k,maxHiddenAxisDots:e-14,dotSize:m}),$.label=2;case 2:return this.drawBackground(),this.drawDots(function(z,q){var Y,Q,J,ct,V,Z;return!(E._options.imageOptions.hideBackgroundDots&&z>=(e-b.hideXDots)/2&&z<(e+b.hideXDots)/2&&q>=(e-b.hideYDots)/2&&q<(e+b.hideYDots)/2||!((Y=ft[z])===null||Y===void 0)&&Y[q]||!((Q=ft[z-e+7])===null||Q===void 0)&&Q[q]||!((J=ft[z])===null||J===void 0)&&J[q-e+7]||!((ct=Nt[z])===null||ct===void 0)&&ct[q]||!((V=Nt[z-e+7])===null||V===void 0)&&V[q]||!((Z=Nt[z])===null||Z===void 0)&&Z[q-e+7])}),this.drawCorners(),this._options.image?[4,this.drawImage({width:b.width,height:b.height,count:e,dotSize:m})]:[3,4];case 3:$.sent(),$.label=4;case 4:return[2]}})})},I.prototype.drawBackground=function(){var a,e,f,p=this._element,m=this._options;if(p){var b=(a=m.backgroundOptions)===null||a===void 0?void 0:a.gradient,T=(e=m.backgroundOptions)===null||e===void 0?void 0:e.color;if((b||T)&&this._createColor({options:b,color:T,additionalRotation:0,x:0,y:0,height:m.height,width:m.width,name:"background-color"}),(f=m.backgroundOptions)===null||f===void 0?void 0:f.round){var _=Math.min(m.width,m.height),M=document.createElementNS("http://www.w3.org/2000/svg","rect");this._backgroundClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._backgroundClipPath.setAttribute("id","clip-path-background-color"),this._defs.appendChild(this._backgroundClipPath),M.setAttribute("x",String((m.width-_)/2)),M.setAttribute("y",String((m.height-_)/2)),M.setAttribute("width",String(_)),M.setAttribute("height",String(_)),M.setAttribute("rx",String(_/2*m.backgroundOptions.round)),this._backgroundClipPath.appendChild(M)}}},I.prototype.drawDots=function(a){var e,f,p=this;if(!this._qr)throw"QR code is not defined";var m=this._options,b=this._qr.getModuleCount();if(b>m.width||b>m.height)throw"The canvas is too small.";var T=Math.min(m.width,m.height)-2*m.margin,_=m.shape===dt?T/Math.sqrt(2):T,M=Math.floor(_/b),x=Math.floor((m.width-b*M)/2),k=Math.floor((m.height-b*M)/2),E=new P({svg:this._element,type:m.dotsOptions.type});this._dotsClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id","clip-path-dot-color"),this._defs.appendChild(this._dotsClipPath),this._createColor({options:(e=m.dotsOptions)===null||e===void 0?void 0:e.gradient,color:m.dotsOptions.color,additionalRotation:0,x:0,y:0,height:m.height,width:m.width,name:"dot-color"});for(var $=function(wt){for(var tt=function(lt){return a&&!a(wt,lt)?"continue":!((f=z._qr)===null||f===void 0)&&f.isDark(wt,lt)?(E.draw(x+wt*M,k+lt*M,M,function(st,at){return!(wt+st<0||lt+at<0||wt+st>=b||lt+at>=b)&&!(a&&!a(wt+st,lt+at))&&!!p._qr&&p._qr.isDark(wt+st,lt+at)}),void(E._element&&z._dotsClipPath&&z._dotsClipPath.appendChild(E._element))):"continue"},ot=0;ot<b;ot++)tt(ot)},z=this,q=0;q<b;q++)$(q);if(m.shape===dt){var Y=Math.floor((T/M-b)/2),Q=b+2*Y,J=x-Y*M,ct=k-Y*M,V=[],Z=Math.floor(Q/2);for(q=0;q<Q;q++){V[q]=[];for(var rt=0;rt<Q;rt++)q>=Y-1&&q<=Q-Y&&rt>=Y-1&&rt<=Q-Y||Math.sqrt((q-Z)*(q-Z)+(rt-Z)*(rt-Z))>Z?V[q][rt]=0:V[q][rt]=this._qr.isDark(rt-2*Y<0?rt:rt>=b?rt-2*Y:rt-Y,q-2*Y<0?q:q>=b?q-2*Y:q-Y)?1:0}var X=function(wt){for(var tt=function(lt){if(!V[wt][lt])return"continue";E.draw(J+wt*M,ct+lt*M,M,function(st,at){var St;return!!(!((St=V[wt+st])===null||St===void 0)&&St[lt+at])}),E._element&&ht._dotsClipPath&&ht._dotsClipPath.appendChild(E._element)},ot=0;ot<Q;ot++)tt(ot)},ht=this;for(q=0;q<Q;q++)X(q)}},I.prototype.drawCorners=function(){var a=this;if(!this._qr)throw"QR code is not defined";var e=this._element,f=this._options;if(!e)throw"Element code is not defined";var p=this._qr.getModuleCount(),m=Math.min(f.width,f.height)-2*f.margin,b=f.shape===dt?m/Math.sqrt(2):m,T=Math.floor(b/p),_=7*T,M=3*T,x=Math.floor((f.width-p*T)/2),k=Math.floor((f.height-p*T)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach(function(E){var $,z,q,Y,Q,J,ct,V,Z,rt,X,ht,wt=E[0],tt=E[1],ot=E[2],lt=x+wt*T*(p-7),st=k+tt*T*(p-7),at=a._dotsClipPath,St=a._dotsClipPath;if((!(($=f.cornersSquareOptions)===null||$===void 0)&&$.gradient||!((z=f.cornersSquareOptions)===null||z===void 0)&&z.color)&&((at=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-square-color-"+wt+"-"+tt),a._defs.appendChild(at),a._cornersSquareClipPath=a._cornersDotClipPath=St=at,a._createColor({options:(q=f.cornersSquareOptions)===null||q===void 0?void 0:q.gradient,color:(Y=f.cornersSquareOptions)===null||Y===void 0?void 0:Y.color,additionalRotation:ot,x:lt,y:st,height:_,width:_,name:"corners-square-color-"+wt+"-"+tt})),(Q=f.cornersSquareOptions)===null||Q===void 0?void 0:Q.type){var ut=new K({svg:a._element,type:f.cornersSquareOptions.type});ut.draw(lt,st,_,ot),ut._element&&at&&at.appendChild(ut._element)}else for(var gt=new P({svg:a._element,type:f.dotsOptions.type}),Lt=function(pt){for(var Mt=function(mt){if(!(!((J=ft[pt])===null||J===void 0)&&J[mt]))return"continue";gt.draw(lt+pt*T,st+mt*T,T,function(bt,qt){var yt;return!!(!((yt=ft[pt+bt])===null||yt===void 0)&&yt[mt+qt])}),gt._element&&at&&at.appendChild(gt._element)},Ft=0;Ft<ft[pt].length;Ft++)Mt(Ft)},vt=0;vt<ft.length;vt++)Lt(vt);if((!((ct=f.cornersDotOptions)===null||ct===void 0)&&ct.gradient||!((V=f.cornersDotOptions)===null||V===void 0)&&V.color)&&((St=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-dot-color-"+wt+"-"+tt),a._defs.appendChild(St),a._cornersDotClipPath=St,a._createColor({options:(Z=f.cornersDotOptions)===null||Z===void 0?void 0:Z.gradient,color:(rt=f.cornersDotOptions)===null||rt===void 0?void 0:rt.color,additionalRotation:ot,x:lt+2*T,y:st+2*T,height:M,width:M,name:"corners-dot-color-"+wt+"-"+tt})),(X=f.cornersDotOptions)===null||X===void 0?void 0:X.type){var _t=new nt({svg:a._element,type:f.cornersDotOptions.type});_t.draw(lt+2*T,st+2*T,M,ot),_t._element&&St&&St.appendChild(_t._element)}else{gt=new P({svg:a._element,type:f.dotsOptions.type});var Dt=function(pt){for(var Mt=function(mt){if(!(!((ht=Nt[pt])===null||ht===void 0)&&ht[mt]))return"continue";gt.draw(lt+pt*T,st+mt*T,T,function(bt,qt){var yt;return!!(!((yt=Nt[pt+bt])===null||yt===void 0)&&yt[mt+qt])}),gt._element&&St&&St.appendChild(gt._element)},Ft=0;Ft<Nt[pt].length;Ft++)Mt(Ft)};for(vt=0;vt<Nt.length;vt++)Dt(vt)}})},I.prototype.loadImage=function(){var a=this;return new Promise(function(e,f){var p=a._options,m=new Image;if(!p.image)return f("Image is not defined");typeof p.imageOptions.crossOrigin=="string"&&(m.crossOrigin=p.imageOptions.crossOrigin),a._image=m,m.onload=function(){e()},m.src=p.image})},I.prototype.drawImage=function(a){var e=a.width,f=a.height,p=a.count,m=a.dotSize;return it(this,void 0,void 0,function(){var b,T,_,M,x,k,E,$,z;return xt(this,function(q){switch(q.label){case 0:return b=this._options,T=Math.floor((b.width-p*m)/2),_=Math.floor((b.height-p*m)/2),M=T+b.imageOptions.margin+(p*m-e)/2,x=_+b.imageOptions.margin+(p*m-f)/2,k=e-2*b.imageOptions.margin,E=f-2*b.imageOptions.margin,($=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("x",String(M)),$.setAttribute("y",String(x)),$.setAttribute("width",k+"px"),$.setAttribute("height",E+"px"),[4,H(b.image||"")];case 1:return z=q.sent(),$.setAttribute("href",z||""),this._element.appendChild($),[2]}})})},I.prototype._createColor=function(a){var e=a.options,f=a.color,p=a.additionalRotation,m=a.x,b=a.y,T=a.height,_=a.width,M=a.name,x=_>T?_:T,k=document.createElementNS("http://www.w3.org/2000/svg","rect");if(k.setAttribute("x",String(m)),k.setAttribute("y",String(b)),k.setAttribute("height",String(T)),k.setAttribute("width",String(_)),k.setAttribute("clip-path","url('#clip-path-"+M+"')"),e){var E;if(e.type==="radial")(E=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")).setAttribute("id",M),E.setAttribute("gradientUnits","userSpaceOnUse"),E.setAttribute("fx",String(m+_/2)),E.setAttribute("fy",String(b+T/2)),E.setAttribute("cx",String(m+_/2)),E.setAttribute("cy",String(b+T/2)),E.setAttribute("r",String(x/2));else{var $=((e.rotation||0)+p)%(2*Math.PI),z=($+2*Math.PI)%(2*Math.PI),q=m+_/2,Y=b+T/2,Q=m+_/2,J=b+T/2;z>=0&&z<=.25*Math.PI||z>1.75*Math.PI&&z<=2*Math.PI?(q-=_/2,Y-=T/2*Math.tan($),Q+=_/2,J+=T/2*Math.tan($)):z>.25*Math.PI&&z<=.75*Math.PI?(Y-=T/2,q-=_/2/Math.tan($),J+=T/2,Q+=_/2/Math.tan($)):z>.75*Math.PI&&z<=1.25*Math.PI?(q+=_/2,Y+=T/2*Math.tan($),Q-=_/2,J-=T/2*Math.tan($)):z>1.25*Math.PI&&z<=1.75*Math.PI&&(Y+=T/2,q+=_/2/Math.tan($),J-=T/2,Q-=_/2/Math.tan($)),(E=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")).setAttribute("id",M),E.setAttribute("gradientUnits","userSpaceOnUse"),E.setAttribute("x1",String(Math.round(q))),E.setAttribute("y1",String(Math.round(Y))),E.setAttribute("x2",String(Math.round(Q))),E.setAttribute("y2",String(Math.round(J)))}e.colorStops.forEach(function(ct){var V=ct.offset,Z=ct.color,rt=document.createElementNS("http://www.w3.org/2000/svg","stop");rt.setAttribute("offset",100*V+"%"),rt.setAttribute("stop-color",Z),E.appendChild(rt)}),k.setAttribute("fill","url('#"+M+"')"),this._defs.appendChild(E)}else f&&k.setAttribute("fill",f);this._element.appendChild(k)},I}(),t="canvas";for(var i={},o=0;o<=40;o++)i[o]=o;const s={type:t,shape:"square",width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:i[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000"},backgroundOptions:{round:0,color:"#fff"}};var u=function(){return(u=Object.assign||function(I){for(var a,e=1,f=arguments.length;e<f;e++)for(var p in a=arguments[e])Object.prototype.hasOwnProperty.call(a,p)&&(I[p]=a[p]);return I}).apply(this,arguments)};function d(I){var a=u({},I);if(!a.colorStops||!a.colorStops.length)throw"Field 'colorStops' is required in gradient";return a.rotation?a.rotation=Number(a.rotation):a.rotation=0,a.colorStops=a.colorStops.map(function(e){return u(u({},e),{offset:Number(e.offset)})}),a}function v(I){var a=u({},I);return a.width=Number(a.width),a.height=Number(a.height),a.margin=Number(a.margin),a.imageOptions=u(u({},a.imageOptions),{hideBackgroundDots:!!a.imageOptions.hideBackgroundDots,imageSize:Number(a.imageOptions.imageSize),margin:Number(a.imageOptions.margin)}),a.margin>Math.min(a.width,a.height)&&(a.margin=Math.min(a.width,a.height)),a.dotsOptions=u({},a.dotsOptions),a.dotsOptions.gradient&&(a.dotsOptions.gradient=d(a.dotsOptions.gradient)),a.cornersSquareOptions&&(a.cornersSquareOptions=u({},a.cornersSquareOptions),a.cornersSquareOptions.gradient&&(a.cornersSquareOptions.gradient=d(a.cornersSquareOptions.gradient))),a.cornersDotOptions&&(a.cornersDotOptions=u({},a.cornersDotOptions),a.cornersDotOptions.gradient&&(a.cornersDotOptions.gradient=d(a.cornersDotOptions.gradient))),a.backgroundOptions&&(a.backgroundOptions=u({},a.backgroundOptions),a.backgroundOptions.gradient&&(a.backgroundOptions.gradient=d(a.backgroundOptions.gradient))),a}var h=N(192),r=N.n(h),l=function(I,a,e,f){return new(e||(e=Promise))(function(p,m){function b(M){try{_(f.next(M))}catch(x){m(x)}}function T(M){try{_(f.throw(M))}catch(x){m(x)}}function _(M){var x;M.done?p(M.value):(x=M.value,x instanceof e?x:new e(function(k){k(x)})).then(b,T)}_((f=f.apply(I,[])).next())})},L=function(I,a){var e,f,p,m,b={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return m={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function T(_){return function(M){return function(x){if(e)throw new TypeError("Generator is already executing.");for(;b;)try{if(e=1,f&&(p=2&x[0]?f.return:x[0]?f.throw||((p=f.return)&&p.call(f),0):f.next)&&!(p=p.call(f,x[1])).done)return p;switch(f=0,p&&(x=[2&x[0],p.value]),x[0]){case 0:case 1:p=x;break;case 4:return b.label++,{value:x[1],done:!1};case 5:b.label++,f=x[1],x=[0];continue;case 7:x=b.ops.pop(),b.trys.pop();continue;default:if(!((p=(p=b.trys).length>0&&p[p.length-1])||x[0]!==6&&x[0]!==2)){b=0;continue}if(x[0]===3&&(!p||x[1]>p[0]&&x[1]<p[3])){b.label=x[1];break}if(x[0]===6&&b.label<p[1]){b.label=p[1],p=x;break}if(p&&b.label<p[2]){b.label=p[2],b.ops.push(x);break}p[2]&&b.ops.pop(),b.trys.pop();continue}x=a.call(I,b)}catch(k){x=[6,k],f=0}finally{e=p=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([_,M])}}};const j=function(){function I(a){this._options=a?v(R(s,a)):s,this.update()}return I._clearContainer=function(a){a&&(a.innerHTML="")},I.prototype._setupSvg=function(){var a=this;if(this._qr){var e=new O(this._options);this._svg=e.getElement(),this._svgDrawingPromise=e.drawQR(this._qr).then(function(){var f;a._svg&&((f=a._extension)===null||f===void 0||f.call(a,e.getElement(),a._options))})}},I.prototype._setupCanvas=function(){var a,e=this;this._qr&&(this._canvas=document.createElement("canvas"),this._canvas.width=this._options.width,this._canvas.height=this._options.height,this._setupSvg(),this._canvasDrawingPromise=(a=this._svgDrawingPromise)===null||a===void 0?void 0:a.then(function(){if(e._svg){var f=e._svg,p=new XMLSerializer().serializeToString(f),m="data:image/svg+xml;base64,"+btoa(p),b=new Image;return new Promise(function(T){b.onload=function(){var _,M;(M=(_=e._canvas)===null||_===void 0?void 0:_.getContext("2d"))===null||M===void 0||M.drawImage(b,0,0),T()},b.src=m})}}))},I.prototype._getElement=function(a){return a===void 0&&(a="png"),l(this,void 0,void 0,function(){return L(this,function(e){switch(e.label){case 0:if(!this._qr)throw"QR code is empty";return a.toLowerCase()!=="svg"?[3,2]:(this._svg&&this._svgDrawingPromise||this._setupSvg(),[4,this._svgDrawingPromise]);case 1:return e.sent(),[2,this._svg];case 2:return this._canvas&&this._canvasDrawingPromise||this._setupCanvas(),[4,this._canvasDrawingPromise];case 3:return e.sent(),[2,this._canvas]}})})},I.prototype.update=function(a){I._clearContainer(this._container),this._options=a?v(R(this._options,a)):this._options,this._options.data&&(this._qr=r()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||function(e){switch(!0){case/^[0-9]*$/.test(e):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(e):return"Alphanumeric";default:return"Byte"}}(this._options.data)),this._qr.make(),this._options.type===t?this._setupCanvas():this._setupSvg(),this.append(this._container))},I.prototype.append=function(a){if(a){if(typeof a.appendChild!="function")throw"Container should be a single DOM node";this._options.type===t?this._canvas&&a.appendChild(this._canvas):this._svg&&a.appendChild(this._svg),this._container=a}},I.prototype.applyExtension=function(a){if(!a)throw"Extension function should be defined.";this._extension=a,this.update()},I.prototype.deleteExtension=function(){this._extension=void 0,this.update()},I.prototype.getRawData=function(a){return a===void 0&&(a="png"),l(this,void 0,void 0,function(){var e,f,p;return L(this,function(m){switch(m.label){case 0:if(!this._qr)throw"QR code is empty";return[4,this._getElement(a)];case 1:return(e=m.sent())?a.toLowerCase()==="svg"?(f=new XMLSerializer,p=f.serializeToString(e),[2,new Blob([`<?xml version="1.0" standalone="no"?>\r
`+p],{type:"image/svg+xml"})]):[2,new Promise(function(b){return e.toBlob(b,"image/"+a,1)})]:[2,null]}})})},I.prototype.download=function(a){return l(this,void 0,void 0,function(){var e,f,p,m,b;return L(this,function(T){switch(T.label){case 0:if(!this._qr)throw"QR code is empty";return e="png",f="qr",typeof a=="string"?(e=a,console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")):typeof a=="object"&&a!==null&&(a.name&&(f=a.name),a.extension&&(e=a.extension)),[4,this._getElement(e)];case 1:return(p=T.sent())?(e.toLowerCase()==="svg"?(m=new XMLSerializer,b=`<?xml version="1.0" standalone="no"?>\r
`+(b=m.serializeToString(p)),et("data:image/svg+xml;charset=utf-8,"+encodeURIComponent(b),f+".svg")):et(p.toDataURL("image/"+e),f+"."+e),[2]):[2]}})})},I}()}},S={};function B(g){if(S[g])return S[g].exports;var C=S[g]={exports:{}};return y[g](C,C.exports,B),C.exports}return B.n=g=>{var C=g&&g.__esModule?()=>g.default:()=>g;return B.d(C,{a:C}),C},B.d=(g,C)=>{for(var N in C)B.o(C,N)&&!B.o(g,N)&&Object.defineProperty(g,N,{enumerable:!0,get:C[N]})},B.o=(g,C)=>Object.prototype.hasOwnProperty.call(g,C),B(676)})().default})}(Oe)),Oe.exports}export{ha as a,fa as b,ca as e,la as r};
